{"version":3,"sources":["../site/node_modules/d3-array/src/bisector.js","../site/node_modules/d3-array/src/pairs.js","../site/node_modules/d3-array/src/ticks.js","../site/node_modules/d3-array/src/transpose.js","../site/node_modules/d3-axis/src/axis.js","../site/node_modules/d3-dispatch/src/dispatch.js","../site/node_modules/d3-selection/src/creator.js","../site/node_modules/d3-selection/src/local.js","../site/node_modules/d3-selection/src/selection/on.js","../site/node_modules/d3-selection/src/selector.js","../site/node_modules/d3-selection/src/selectorAll.js","../site/node_modules/d3-selection/src/selection/enter.js","../site/node_modules/d3-selection/src/selection/data.js","../site/node_modules/d3-selection/src/selection/sort.js","../site/node_modules/d3-selection/src/selection/attr.js","../site/node_modules/d3-selection/src/selection/style.js","../site/node_modules/d3-selection/src/selection/property.js","../site/node_modules/d3-selection/src/selection/classed.js","../site/node_modules/d3-selection/src/selection/text.js","../site/node_modules/d3-selection/src/selection/html.js","../site/node_modules/d3-selection/src/selection/raise.js","../site/node_modules/d3-selection/src/selection/lower.js","../site/node_modules/d3-selection/src/selection/insert.js","../site/node_modules/d3-selection/src/selection/remove.js","../site/node_modules/d3-selection/src/selection/dispatch.js","../site/node_modules/d3-selection/src/selection/index.js","../site/node_modules/d3-drag/src/noevent.js","../site/node_modules/d3-drag/src/nodrag.js","../site/node_modules/d3-drag/src/event.js","../site/node_modules/d3-drag/src/drag.js","../site/node_modules/d3-color/src/define.js","../site/node_modules/d3-color/src/color.js","../site/node_modules/d3-color/src/lab.js","../site/node_modules/d3-color/src/cubehelix.js","../site/node_modules/d3-interpolate/src/basis.js","../site/node_modules/d3-interpolate/src/color.js","../site/node_modules/d3-interpolate/src/rgb.js","../site/node_modules/d3-interpolate/src/string.js","../site/node_modules/d3-interpolate/src/transform/index.js","../site/node_modules/d3-interpolate/src/zoom.js","../site/node_modules/d3-interpolate/src/hsl.js","../site/node_modules/d3-interpolate/src/hcl.js","../site/node_modules/d3-interpolate/src/cubehelix.js","../site/node_modules/d3-timer/src/timer.js","../site/node_modules/d3-transition/src/transition/schedule.js","../site/node_modules/d3-transition/src/transition/tween.js","../site/node_modules/d3-transition/src/transition/attr.js","../site/node_modules/d3-transition/src/transition/attrTween.js","../site/node_modules/d3-transition/src/transition/delay.js","../site/node_modules/d3-transition/src/transition/duration.js","../site/node_modules/d3-transition/src/transition/ease.js","../site/node_modules/d3-transition/src/transition/on.js","../site/node_modules/d3-transition/src/transition/remove.js","../site/node_modules/d3-transition/src/transition/style.js","../site/node_modules/d3-transition/src/transition/styleTween.js","../site/node_modules/d3-transition/src/transition/text.js","../site/node_modules/d3-transition/src/transition/index.js","../site/node_modules/d3-ease/src/quad.js","../site/node_modules/d3-ease/src/cubic.js","../site/node_modules/d3-ease/src/sin.js","../site/node_modules/d3-ease/src/exp.js","../site/node_modules/d3-ease/src/circle.js","../site/node_modules/d3-ease/src/bounce.js","../site/node_modules/d3-transition/src/selection/transition.js","../site/node_modules/d3-brush/src/noevent.js","../site/node_modules/d3-brush/src/brush.js","../site/node_modules/d3-chord/src/chord.js","../site/node_modules/d3-path/src/path.js","../site/node_modules/d3-chord/src/ribbon.js","../site/node_modules/d3-collection/src/map.js","../site/node_modules/d3-collection/src/nest.js","../site/node_modules/d3-collection/src/set.js","../site/node_modules/d3-dsv/src/dsv.js","../site/node_modules/d3-quadtree/src/add.js","../site/node_modules/d3-quadtree/src/x.js","../site/node_modules/d3-quadtree/src/y.js","../site/node_modules/d3-quadtree/src/quadtree.js","../site/node_modules/d3-force/src/collide.js","../site/node_modules/d3-force/src/link.js","../site/node_modules/d3-force/src/simulation.js","../site/node_modules/d3-format/src/formatSpecifier.js","../site/node_modules/d3-format/src/defaultLocale.js","../site/node_modules/d3-geo/src/adder.js","../site/node_modules/d3-geo/src/math.js","../site/node_modules/d3-geo/src/noop.js","../site/node_modules/d3-geo/src/stream.js","../site/node_modules/d3-geo/src/area.js","../site/node_modules/d3-geo/src/cartesian.js","../site/node_modules/d3-geo/src/bounds.js","../site/node_modules/d3-geo/src/centroid.js","../site/node_modules/d3-geo/src/rotation.js","../site/node_modules/d3-geo/src/circle.js","../site/node_modules/d3-geo/src/clip/polygon.js","../site/node_modules/d3-geo/src/clip/extent.js","../site/node_modules/d3-geo/src/length.js","../site/node_modules/d3-geo/src/contains.js","../site/node_modules/d3-geo/src/graticule.js","../site/node_modules/d3-geo/src/path/area.js","../site/node_modules/d3-geo/src/path/centroid.js","../site/node_modules/d3-geo/src/path/context.js","../site/node_modules/d3-geo/src/path/measure.js","../site/node_modules/d3-geo/src/path/string.js","../site/node_modules/d3-geo/src/clip/index.js","../site/node_modules/d3-geo/src/clip/antimeridian.js","../site/node_modules/d3-geo/src/transform.js","../site/node_modules/d3-geo/src/projection/fit.js","../site/node_modules/d3-geo/src/projection/resample.js","../site/node_modules/d3-geo/src/projection/index.js","../site/node_modules/d3-geo/src/projection/conic.js","../site/node_modules/d3-geo/src/projection/cylindricalEqualArea.js","../site/node_modules/d3-geo/src/projection/conicEqualArea.js","../site/node_modules/d3-geo/src/projection/albersUsa.js","../site/node_modules/d3-geo/src/projection/azimuthal.js","../site/node_modules/d3-geo/src/projection/mercator.js","../site/node_modules/d3-geo/src/projection/conicConformal.js","../site/node_modules/d3-geo/src/projection/equirectangular.js","../site/node_modules/d3-geo/src/projection/conicEquidistant.js","../site/node_modules/d3-geo/src/projection/gnomonic.js","../site/node_modules/d3-geo/src/projection/identity.js","../site/node_modules/d3-geo/src/projection/orthographic.js","../site/node_modules/d3-geo/src/projection/stereographic.js","../site/node_modules/d3-geo/src/projection/transverseMercator.js","../site/node_modules/d3-hierarchy/src/cluster.js","../site/node_modules/d3-hierarchy/src/hierarchy/count.js","../site/node_modules/d3-hierarchy/src/hierarchy/path.js","../site/node_modules/d3-hierarchy/src/hierarchy/index.js","../site/node_modules/d3-hierarchy/src/pack/shuffle.js","../site/node_modules/d3-hierarchy/src/pack/enclose.js","../site/node_modules/d3-hierarchy/src/pack/siblings.js","../site/node_modules/d3-hierarchy/src/accessors.js","../site/node_modules/d3-hierarchy/src/constant.js","../site/node_modules/d3-hierarchy/src/pack/index.js","../site/node_modules/d3-hierarchy/src/stratify.js","../site/node_modules/d3-hierarchy/src/tree.js","../site/node_modules/d3-hierarchy/src/treemap/squarify.js","../site/node_modules/d3-polygon/src/hull.js","../site/node_modules/d3-queue/src/queue.js","../site/node_modules/d3-request/src/request.js","../site/node_modules/d3-request/src/dsv.js","../site/node_modules/d3-scale/src/ordinal.js","../site/node_modules/d3-scale/src/band.js","../site/node_modules/d3-scale/src/continuous.js","../site/node_modules/d3-scale/src/linear.js","../site/node_modules/d3-scale/src/identity.js","../site/node_modules/d3-scale/src/log.js","../site/node_modules/d3-scale/src/pow.js","../site/node_modules/d3-scale/src/quantile.js","../site/node_modules/d3-scale/src/quantize.js","../site/node_modules/d3-scale/src/threshold.js","../site/node_modules/d3-time/src/interval.js","../site/node_modules/d3-time/src/week.js","../site/node_modules/d3-time/src/utcWeek.js","../site/node_modules/d3-time-format/src/locale.js","../site/node_modules/d3-time-format/src/defaultLocale.js","../site/node_modules/d3-scale/src/time.js","../site/node_modules/d3-scale/src/viridis.js","../site/node_modules/d3-scale/src/sequential.js","../site/node_modules/d3-shape/src/math.js","../site/node_modules/d3-shape/src/arc.js","../site/node_modules/d3-shape/src/curve/linear.js","../site/node_modules/d3-shape/src/point.js","../site/node_modules/d3-shape/src/curve/radial.js","../site/node_modules/d3-shape/src/radialLine.js","../site/node_modules/d3-shape/src/link/index.js","../site/node_modules/d3-shape/src/curve/basis.js","../site/node_modules/d3-shape/src/curve/basisClosed.js","../site/node_modules/d3-shape/src/curve/basisOpen.js","../site/node_modules/d3-shape/src/curve/bundle.js","../site/node_modules/d3-shape/src/curve/cardinal.js","../site/node_modules/d3-shape/src/curve/cardinalClosed.js","../site/node_modules/d3-shape/src/curve/cardinalOpen.js","../site/node_modules/d3-shape/src/curve/catmullRom.js","../site/node_modules/d3-shape/src/curve/catmullRomClosed.js","../site/node_modules/d3-shape/src/curve/catmullRomOpen.js","../site/node_modules/d3-shape/src/curve/linearClosed.js","../site/node_modules/d3-shape/src/curve/monotone.js","../site/node_modules/d3-shape/src/curve/natural.js","../site/node_modules/d3-shape/src/curve/step.js","../site/node_modules/d3-shape/src/stack.js","../site/node_modules/d3-shape/src/order/ascending.js","../site/node_modules/d3-voronoi/src/point.js","../site/node_modules/d3-voronoi/src/RedBlackTree.js","../site/node_modules/d3-voronoi/src/Edge.js","../site/node_modules/d3-voronoi/src/Cell.js","../site/node_modules/d3-voronoi/src/Circle.js","../site/node_modules/d3-voronoi/src/Beach.js","../site/node_modules/d3-voronoi/src/Diagram.js","../site/node_modules/d3-zoom/src/event.js","../site/node_modules/d3-zoom/src/transform.js","../site/node_modules/d3-zoom/src/noevent.js","../site/node_modules/d3-zoom/src/zoom.js","../site/js/main.js","../site/node_modules/d3/build/package.js","../site/node_modules/d3-array/src/ascending.js","../site/node_modules/d3-array/src/bisect.js","../site/node_modules/d3-array/src/number.js","../site/node_modules/d3-array/src/variance.js","../site/node_modules/d3-array/src/deviation.js","../site/node_modules/d3-array/src/extent.js","../site/node_modules/d3-array/src/array.js","../site/node_modules/d3-array/src/constant.js","../site/node_modules/d3-array/src/identity.js","../site/node_modules/d3-array/src/range.js","../site/node_modules/d3-array/src/threshold/sturges.js","../site/node_modules/d3-array/src/quantile.js","../site/node_modules/d3-array/src/max.js","../site/node_modules/d3-array/src/merge.js","../site/node_modules/d3-array/src/min.js","../site/node_modules/d3-axis/src/array.js","../site/node_modules/d3-axis/src/identity.js","../site/node_modules/d3-selection/src/namespaces.js","../site/node_modules/d3-selection/src/namespace.js","../site/node_modules/d3-selection/src/matcher.js","../site/node_modules/d3-selection/src/sourceEvent.js","../site/node_modules/d3-selection/src/point.js","../site/node_modules/d3-selection/src/mouse.js","../site/node_modules/d3-selection/src/selection/sparse.js","../site/node_modules/d3-selection/src/constant.js","../site/node_modules/d3-selection/src/window.js","../site/node_modules/d3-selection/src/selection/select.js","../site/node_modules/d3-selection/src/selection/selectAll.js","../site/node_modules/d3-selection/src/selection/filter.js","../site/node_modules/d3-selection/src/selection/exit.js","../site/node_modules/d3-selection/src/selection/merge.js","../site/node_modules/d3-selection/src/selection/order.js","../site/node_modules/d3-selection/src/selection/call.js","../site/node_modules/d3-selection/src/selection/nodes.js","../site/node_modules/d3-selection/src/selection/node.js","../site/node_modules/d3-selection/src/selection/size.js","../site/node_modules/d3-selection/src/selection/empty.js","../site/node_modules/d3-selection/src/selection/each.js","../site/node_modules/d3-selection/src/selection/append.js","../site/node_modules/d3-selection/src/selection/datum.js","../site/node_modules/d3-selection/src/select.js","../site/node_modules/d3-selection/src/touch.js","../site/node_modules/d3-drag/src/constant.js","../site/node_modules/d3-color/src/math.js","../site/node_modules/d3-interpolate/src/transform/parse.js","../site/node_modules/d3-interpolate/src/basisClosed.js","../site/node_modules/d3-interpolate/src/constant.js","../site/node_modules/d3-interpolate/src/array.js","../site/node_modules/d3-interpolate/src/date.js","../site/node_modules/d3-interpolate/src/number.js","../site/node_modules/d3-interpolate/src/object.js","../site/node_modules/d3-interpolate/src/value.js","../site/node_modules/d3-interpolate/src/round.js","../site/node_modules/d3-interpolate/src/transform/decompose.js","../site/node_modules/d3-timer/src/timeout.js","../site/node_modules/d3-transition/src/interrupt.js","../site/node_modules/d3-transition/src/transition/interpolate.js","../site/node_modules/d3-transition/src/transition/selection.js","../site/node_modules/d3-transition/src/transition/select.js","../site/node_modules/d3-transition/src/transition/selectAll.js","../site/node_modules/d3-transition/src/transition/filter.js","../site/node_modules/d3-transition/src/transition/merge.js","../site/node_modules/d3-transition/src/transition/transition.js","../site/node_modules/d3-ease/src/poly.js","../site/node_modules/d3-ease/src/back.js","../site/node_modules/d3-ease/src/elastic.js","../site/node_modules/d3-transition/src/selection/index.js","../site/node_modules/d3-transition/src/selection/interrupt.js","../site/node_modules/d3-transition/src/active.js","../site/node_modules/d3-brush/src/constant.js","../site/node_modules/d3-brush/src/event.js","../site/node_modules/d3-chord/src/math.js","../site/node_modules/d3-chord/src/array.js","../site/node_modules/d3-chord/src/constant.js","../site/node_modules/d3-collection/src/keys.js","../site/node_modules/d3-dsv/src/csv.js","../site/node_modules/d3-dsv/src/tsv.js","../site/node_modules/d3-force/src/constant.js","../site/node_modules/d3-force/src/jiggle.js","../site/node_modules/d3-quadtree/src/quad.js","../site/node_modules/d3-quadtree/src/cover.js","../site/node_modules/d3-quadtree/src/data.js","../site/node_modules/d3-quadtree/src/extent.js","../site/node_modules/d3-quadtree/src/find.js","../site/node_modules/d3-quadtree/src/remove.js","../site/node_modules/d3-quadtree/src/root.js","../site/node_modules/d3-quadtree/src/size.js","../site/node_modules/d3-quadtree/src/visit.js","../site/node_modules/d3-quadtree/src/visitAfter.js","../site/node_modules/d3-format/src/formatPrefixAuto.js","../site/node_modules/d3-format/src/formatDecimal.js","../site/node_modules/d3-format/src/exponent.js","../site/node_modules/d3-format/src/formatGroup.js","../site/node_modules/d3-format/src/formatNumerals.js","../site/node_modules/d3-format/src/formatRounded.js","../site/node_modules/d3-format/src/formatTypes.js","../site/node_modules/d3-format/src/formatDefault.js","../site/node_modules/d3-format/src/identity.js","../site/node_modules/d3-format/src/locale.js","../site/node_modules/d3-format/src/precisionFixed.js","../site/node_modules/d3-format/src/precisionPrefix.js","../site/node_modules/d3-format/src/precisionRound.js","../site/node_modules/d3-geo/src/constant.js","../site/node_modules/d3-geo/src/compose.js","../site/node_modules/d3-geo/src/clip/buffer.js","../site/node_modules/d3-geo/src/clip/line.js","../site/node_modules/d3-geo/src/pointEqual.js","../site/node_modules/d3-geo/src/polygonContains.js","../site/node_modules/d3-geo/src/distance.js","../site/node_modules/d3-geo/src/identity.js","../site/node_modules/d3-geo/src/path/bounds.js","../site/node_modules/d3-geo/src/path/index.js","../site/node_modules/d3-geo/src/clip/circle.js","../site/node_modules/d3-geo/src/projection/albers.js","../site/node_modules/d3-geo/src/projection/azimuthalEqualArea.js","../site/node_modules/d3-geo/src/projection/azimuthalEquidistant.js","../site/node_modules/d3-hierarchy/src/hierarchy/each.js","../site/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../site/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../site/node_modules/d3-hierarchy/src/hierarchy/sum.js","../site/node_modules/d3-hierarchy/src/hierarchy/sort.js","../site/node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../site/node_modules/d3-hierarchy/src/hierarchy/descendants.js","../site/node_modules/d3-hierarchy/src/hierarchy/leaves.js","../site/node_modules/d3-hierarchy/src/hierarchy/links.js","../site/node_modules/d3-hierarchy/src/treemap/round.js","../site/node_modules/d3-hierarchy/src/treemap/dice.js","../site/node_modules/d3-hierarchy/src/treemap/slice.js","../site/node_modules/d3-hierarchy/src/treemap/resquarify.js","../site/node_modules/d3-polygon/src/cross.js","../site/node_modules/d3-queue/src/array.js","../site/node_modules/d3-random/src/defaultSource.js","../site/node_modules/d3-random/src/uniform.js","../site/node_modules/d3-random/src/normal.js","../site/node_modules/d3-random/src/logNormal.js","../site/node_modules/d3-random/src/irwinHall.js","../site/node_modules/d3-random/src/bates.js","../site/node_modules/d3-random/src/exponential.js","../site/node_modules/d3-request/src/type.js","../site/node_modules/d3-request/src/html.js","../site/node_modules/d3-request/src/json.js","../site/node_modules/d3-request/src/text.js","../site/node_modules/d3-request/src/xml.js","../site/node_modules/d3-request/src/csv.js","../site/node_modules/d3-request/src/tsv.js","../site/node_modules/d3-scale/src/array.js","../site/node_modules/d3-scale/src/constant.js","../site/node_modules/d3-scale/src/number.js","../site/node_modules/d3-scale/src/tickFormat.js","../site/node_modules/d3-scale/src/nice.js","../site/node_modules/d3-time/src/millisecond.js","../site/node_modules/d3-time/src/duration.js","../site/node_modules/d3-time/src/second.js","../site/node_modules/d3-time/src/minute.js","../site/node_modules/d3-time/src/hour.js","../site/node_modules/d3-time/src/day.js","../site/node_modules/d3-time/src/month.js","../site/node_modules/d3-time/src/year.js","../site/node_modules/d3-time/src/utcMinute.js","../site/node_modules/d3-time/src/utcHour.js","../site/node_modules/d3-time/src/utcDay.js","../site/node_modules/d3-time/src/utcMonth.js","../site/node_modules/d3-time/src/utcYear.js","../site/node_modules/d3-time-format/src/isoFormat.js","../site/node_modules/d3-time-format/src/isoParse.js","../site/node_modules/d3-scale/src/colors.js","../site/node_modules/d3-scale/src/category10.js","../site/node_modules/d3-scale/src/category20b.js","../site/node_modules/d3-scale/src/category20c.js","../site/node_modules/d3-scale/src/category20.js","../site/node_modules/d3-scale/src/cubehelix.js","../site/node_modules/d3-scale/src/rainbow.js","../site/node_modules/d3-shape/src/constant.js","../site/node_modules/d3-shape/src/line.js","../site/node_modules/d3-shape/src/area.js","../site/node_modules/d3-shape/src/descending.js","../site/node_modules/d3-shape/src/identity.js","../site/node_modules/d3-shape/src/array.js","../site/node_modules/d3-shape/src/radialPoint.js","../site/node_modules/d3-shape/src/symbol/circle.js","../site/node_modules/d3-shape/src/symbol/cross.js","../site/node_modules/d3-shape/src/symbol/diamond.js","../site/node_modules/d3-shape/src/symbol/star.js","../site/node_modules/d3-shape/src/symbol/square.js","../site/node_modules/d3-shape/src/symbol/triangle.js","../site/node_modules/d3-shape/src/symbol/wye.js","../site/node_modules/d3-shape/src/symbol.js","../site/node_modules/d3-shape/src/noop.js","../site/node_modules/d3-shape/src/offset/none.js","../site/node_modules/d3-shape/src/order/none.js","../site/node_modules/d3-voronoi/src/constant.js","../site/node_modules/d3-voronoi/src/voronoi.js","../site/node_modules/d3-zoom/src/constant.js","../site/node_modules/d3-array/src/cross.js","../site/node_modules/d3-array/src/descending.js","../site/node_modules/d3-array/src/histogram.js","../site/node_modules/d3-array/src/threshold/freedmanDiaconis.js","../site/node_modules/d3-array/src/threshold/scott.js","../site/node_modules/d3-array/src/mean.js","../site/node_modules/d3-array/src/median.js","../site/node_modules/d3-array/src/permute.js","../site/node_modules/d3-array/src/scan.js","../site/node_modules/d3-array/src/shuffle.js","../site/node_modules/d3-array/src/sum.js","../site/node_modules/d3-array/src/zip.js","../site/node_modules/d3-collection/src/values.js","../site/node_modules/d3-collection/src/entries.js","../site/node_modules/d3-ease/src/linear.js","../site/node_modules/d3-force/src/center.js","../site/node_modules/d3-force/src/manyBody.js","../site/node_modules/d3-force/src/x.js","../site/node_modules/d3-force/src/y.js","../site/node_modules/d3-geo/src/interpolate.js","../site/node_modules/d3-hierarchy/src/partition.js","../site/node_modules/d3-hierarchy/src/treemap/index.js","../site/node_modules/d3-hierarchy/src/treemap/binary.js","../site/node_modules/d3-hierarchy/src/treemap/sliceDice.js","../site/node_modules/d3-interpolate/src/lab.js","../site/node_modules/d3-interpolate/src/quantize.js","../site/node_modules/d3-polygon/src/area.js","../site/node_modules/d3-polygon/src/centroid.js","../site/node_modules/d3-polygon/src/contains.js","../site/node_modules/d3-polygon/src/length.js","../site/node_modules/d3-scale/src/utcTime.js","../site/node_modules/d3-selection/src/selectAll.js","../site/node_modules/d3-selection/src/touches.js","../site/node_modules/d3-shape/src/pie.js","../site/node_modules/d3-shape/src/radialArea.js","../site/node_modules/d3-shape/src/offset/expand.js","../site/node_modules/d3-shape/src/offset/diverging.js","../site/node_modules/d3-shape/src/offset/silhouette.js","../site/node_modules/d3-shape/src/offset/wiggle.js","../site/node_modules/d3-shape/src/order/descending.js","../site/node_modules/d3-shape/src/order/insideOut.js","../site/node_modules/d3-shape/src/order/reverse.js","../site/node_modules/d3-timer/src/interval.js","../site/js/graphics.js"],"names":["ascendingComparator","f","d","x","ascending","pair","a","b","tickIncrement","start","stop","count","step","Math","max","power","floor","log","LN10","error","pow","e10","e5","e2","tickStep","step0","abs","step1","length","translateX","translateY","y","center","scale","offset","bandwidth","round","entering","this","__axis","axis","orient","context","values","tickValues","ticks","apply","tickArguments","domain","format","tickFormat","identity","spacing","tickSizeInner","tickPadding","range","range0","range1","position","copy","selection","path","selectAll","data","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","merge","insert","k","top","bottom","transition","epsilon","isFinite","transform","getAttribute","p","parentNode","remove","left","right","tickSizeOuter","filter","each","_","arguments","slice","call","tickSize","axisBottom","axisLeft","dispatch","t","i","n","Error","Dispatch","parseTypenames","typenames","types","trim","split","map","name","indexOf","hasOwnProperty","type","get","c","value","set","callback","noop","concat","push","creatorInherit","document","ownerDocument","uri","namespaceURI","xhtml","documentElement","createElement","createElementNS","creatorFixed","fullname","space","local","Local","nextId","toString","filterContextListener","listener","index","group","contextListener","event","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","onRemove","typename","on","__on","o","j","m","removeEventListener","capture","onAdd","wrap","filterEvents","addEventListener","customEvent","that","args","sourceEvent","none","empty","EnterNode","parent","datum","_next","_parent","bindIndex","update","node","groupLength","dataLength","bindKey","key","keyValue","nodeByKeyValue","keyValues","Array","keyPrefix","NaN","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","defaultView","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","classedAdd","names","list","add","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","appendChild","lower","previousSibling","insertBefore","firstChild","constantNull","removeChild","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","root","nopropagation","stopImmediatePropagation","yesdrag","view","noclick","noevent","setTimeout","MozUserSelect","__noselect","DragEvent","target","subject","id","active","dx","dy","identifier","defaultFilter","button","defaultContainer","defaultSubject","extend","definition","prototype","Object","create","Color","color","toLowerCase","reHex3","exec","parseInt","Rgb","reHex6","rgbn","reRgbInteger","reRgbPercent","reRgbaInteger","rgba","reRgbaPercent","reHslPercent","hsla","reHslaPercent","named","r","g","rgbConvert","rgb","opacity","h","s","l","Hsl","hslConvert","min","hsl","hsl2rgb","m1","m2","labConvert","Lab","Hcl","deg2rad","cos","sin","rgb2xyz","xyz2lab","Xn","Yn","Zn","lab","t3","t2","t0","lab2xyz","t1","xyz2rgb","hclConvert","atan2","rad2deg","sqrt","hcl","cubehelixConvert","Cubehelix","BC_DA","ED","EB","bl","E","C","D","cubehelix","basis","v0","v1","v2","v3","linear","exponential","hue","constant","isNaN","gamma","nogamma","rgbSpline","spline","colors","colorRgb","zero","one","interpolateTransform","parse","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","q","number","rotate","skewX","scaleX","scaleY","join","cosh","exp","sinh","tanh","end","colorHsl","colorHcl","cubehelixGamma","colorCubehelix","now","clockNow","setFrame","clearNow","clock","clockSkew","Timer","_call","_time","timer","delay","time","restart","timerFlush","frame","e","taskHead","wake","clockLast","timeout","nap","poke","pokeDelay","Infinity","taskTail","sleep","clearTimeout","interval","clearInterval","setInterval","init","schedule","__transition","state","CREATED","STARTING","self","elapsed","SCHEDULED","schedules","STARTED","RUNNING","ENDED","tween","duration","ease","ENDING","tweenRemove","tween0","tween1","splice","tweenFunction","tweenValue","_id","interpolate","value1","value00","interpolate0","value0","getAttributeNS","value10","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","every","onFunction","on0","on1","sit","removeFunction","styleRemoveEnd","styleTween","Transition","_name","newId","quadInOut","cubicInOut","sinInOut","pi","expInOut","circleInOut","bounceOut","b1","b0","b3","b2","b4","b6","b5","b7","b8","b9","inherit","timing","defaultTiming","defaultExtent","svg","ownerSVGElement","width","baseVal","height","__brush","extent","brush","dim","overlay","property","initialize","cursors","handle","handles","redraw","started","handleSize","emitter","Emitter","moved","point1","mouse","shifting","lockX","lockY","point","moving","move","point0","mode","MODE_SPACE","MODE_DRAG","signX","W","w0","e0","w1","e1","signY","N","n0","S","s0","n1","s1","MODE_HANDLE","MODE_CENTER","flipX","flipY","emit","ended","touches","touchending","dragEnable","changedTouches","metaKey","altKey","Y","signsX","X","signsY","shiftKey","beforestart","keyCode","dragDisable","interrupt","listeners","selection1","selection0","input","starting","BrushEvent","output","compareValue","compare","source","Path","_x0","_y0","_x1","_y1","defaultSource","defaultTarget","defaultRadius","radius","defaultStartAngle","startAngle","defaultEndAngle","endAngle","Map","object","isArray","createObject","setObject","createMap","setMap","Set","objectConverter","columns","Function","JSON","stringify","customConverter","row","inferColumns","rows","columnSet","forEach","column","tree","xm","ym","xp","yp","_root","leaf","x0","y0","x1","y1","_x","_y","next","defaultX","defaultY","quadtree","nodes","Quadtree","addAll","undefined","leaf_copy","vx","vy","find","nodeById","nodeId","formatSpecifier","specifier","FormatSpecifier","match","re","fill","align","sign","symbol","comma","precision","formatTypes","defaultLocale","locale","formatLocale","formatPrefix","Adder","reset","adder","bv","av","acos","asin","halfPi","haversin","streamGeometry","geometry","stream","streamGeometryType","streamLine","coordinates","closed","coordinate","lineStart","lineEnd","streamPolygon","polygonStart","polygonEnd","areaRingStart","areaStream","areaPointFirst","areaRingEnd","areaPoint","lambda00","phi00","lambda","phi","lambda0","radians","cosPhi0","quarterPi","sinPhi0","dLambda","sdLambda","adLambda","cosPhi","sinPhi","u","areaRingSum","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","boundsPoint","ranges","lambda1","phi0","phi1","linePoint","p0","normal","inflection","phii","delta","lambda2","lambdai","degrees","antimeridian","angle","boundsLineStart","boundsStream","boundsLineEnd","boundsRingPoint","deltaSum","boundsRingStart","boundsRingEnd","rangeCompare","rangeContains","centroidPoint","centroidPointCartesian","z","X0","W0","Y0","Z0","centroidLineStart","centroidStream","centroidLinePointFirst","z0","centroidLinePoint","w","W1","X1","Y1","Z1","centroidLineEnd","centroidRingStart","centroidRingPointFirst","centroidRingEnd","centroidRingPoint","cx","cy","cz","X2","Y2","Z2","rotationIdentity","tau","rotateRadians","deltaLambda","deltaPhi","deltaGamma","compose","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","invert","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","circleStream","direction","cosRadius","sinRadius","circleRadius","Intersection","points","other","entry","link","array","clipExtent","visible","from","to","a1","corner","comparePoint","compareIntersection","ca","cb","activeStream","polygonInside","winding","polygon","a0","ring","first","x__","y__","v__","v_","x_","clipMin","clipMax","y_","clipLine","clean","segments","bufferStream","clipBuffer","clipStream","rejoin","result","startInside","cleanInside","clipPolygon","lengthLineEnd","lengthStream","lengthPointFirst","lengthPoint","cosDelta","lengthSum","containsGeometry","containsGeometryType","containsPoint","distance","containsLine","ab","containsPolygon","polygonContains","ringRadians","pointRadians","graticuleX","graticuleY","graticule","lines","ceil","DX","DY","outline","reverse","extentMajor","extentMinor","stepMajor","stepMinor","x00","y00","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_context","PathString","_string","circle","validSegment","segment","clipAntimeridianIntersect","cosPhi1","sinLambda0Lambda1","atan","transformer","methods","TransformStream","fitExtent","projection","clip","geoStream","fitSize","size","resampleNone","project","resample","delta2","resampleLineTo","c0","c1","depth","d2","phi2","x2","y2","dx2","dy2","dz","cosMinDistance","resampleStream","maxDepth","ringStart","ringPoint","ringEnd","a00","b00","c00","projectionMutator","projectAt","projectRotate","projectTransform","recenter","cache","cacheStream","theta","preclip","clipAntimeridian","postclip","projectResample","transformRadians","clipAngle","clipCircle","conicProjection","parallels","cylindricalEqualAreaRaw","forward","conicEqualAreaRaw","r0","sy0","r0y","multiplex","streams","sphere","azimuthalRaw","azimuthalInvert","sc","cc","mercatorRaw","tan","mercatorProjection","reclip","tany","conicConformalRaw","cy0","fy","equirectangularRaw","conicEquidistantRaw","gy","nx","gnomonicRaw","scaleTranslate","kx","ky","tx","ty","orthographicRaw","stereographicRaw","transverseMercatorRaw","defaultSeparation","meanX","children","reduce","meanXReduce","maxY","maxYReduce","leafLeft","leafRight","sum","leastCommonAncestor","aNodes","ancestors","bNodes","hierarchy","child","childs","Node","valued","defaultChildren","eachBefore","computeHeight","copyData","encloses","dr","encloseN","L","B","l2","p1","l0","l1","head","enclose1","enclose2","enclose3","tail","r1","r2","x21","y21","r21","x3","y3","r3","a2","c2","a3","c3","d3","A","place","ax","ay","da","db","dc","intersects","distance2","previous","packEnclose","circles","sj","sk","aa","ba","oa","ox","oy","pack","enclose","optional","required","constantZero","radiusLeaf","packChildren","padding","translateChild","defaultId","defaultParentId","parentId","nextLeft","nextRight","moveSubtree","wm","wp","shift","change","executeShifts","nextAncestor","vim","ancestor","TreeNode","treeRoot","squarifyRatio","ratio","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","alpha","beta","i0","i1","dice","treemapDice","treemapSlice","lexicographicOrder","computeUpperHullIndexes","indexes","cross","Queue","_size","_error","_tasks","_data","_waiting","_active","_ended","_start","abort","noabort","maybeNotify","queue","concurrency","fixCallback","xhr","hasResponse","responseType","response","responseText","responseOf","request","ordinal","unknown","implicit","has","band","rescale","paddingInner","paddingOuter","sequence","ordinalRange","rangeRound","pointish","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","reinterpolate","bimap","d0","d1","polymap","bisect","clamp","continuous","piecewise","unit","interpolateValue","interpolateRound","linearish","nice","pow10","powp","base","logp","log10","log2","reflect","logs","pows","exponent","quantile","thresholds","threshold","invertExtent","sort","quantiles","quantize","newInterval","floori","offseti","field","date","Date","test","setTime","weekday","setDate","getDate","getDay","setHours","getTimezoneOffset","durationMinute","durationWeek","utcWeekday","setUTCDate","getUTCDate","getUTCDay","setUTCHours","localDate","H","M","setFullYear","utcDate","UTC","setUTCFullYear","newYear","newFormat","formats","pad","charCodeAt","pads","charAt","newParse","newDate","parseSpecifier","day","U","Z","parses","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","getMonth","formatDayOfMonth","formatHour24","I","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","getHours","formatSeconds","formatWeekNumberSunday","formatWeekdayNumber","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","%","formatLiteralPercent","utcFormats","getUTCMonth","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","getUTCHours","formatUTCSeconds","formatUTCWeekNumberSunday","formatUTCWeekdayNumber","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parseDayOfMonth","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseSeconds","parseWeekNumberSunday","parseWeekdayNumber","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","utcFormat","utcParse","requote","replace","requoteRe","RegExp","numberRe","percentRe","timeDay","timeYear","getMilliseconds","getMinutes","getSeconds","timeSunday","timeMonday","getFullYear","utcDay","utcYear","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","utcSunday","utcMonday","getUTCFullYear","timeFormat","timeParse","calendar","year","month","week","hour","minute","second","millisecond","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","tickInterval","bisector","tickIntervals","durationYear","durationSecond","durationHour","durationDay","durationMonth","ramp","sequential","interpolator","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","arcEndAngle","arcPadAngle","padAngle","intersect","x10","y10","x32","y32","cornerTangents","rc","cw","x01","y01","lo","x11","y11","cx0","cx1","cy1","dx0","dy0","dx1","dy1","Linear","Radial","curve","_curve","curveRadial","radial","radialLine","linkSource","linkTarget","buffer","argv","pointX","pointY","curveHorizontal","moveTo","bezierCurveTo","curveVertical","radialPoint","p2","p3","Basis","BasisClosed","BasisOpen","Bundle","_basis","_beta","_k","_x2","_y2","Cardinal","tension","CardinalClosed","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","_alpha","CatmullRomClosed","CatmullRomOpen","LinearClosed","slope3","h0","h1","slope2","MonotoneX","MonotoneY","ReflectContext","Natural","controlPoints","Step","_t","stackValue","series","RedBlackTree","RedBlackNode","R","P","RedBlackRotateLeft","RedBlackRotateRight","RedBlackFirst","createEdge","edge","edges","setEdgeEnd","cells","halfedges","createBorderEdge","vertex","clipEdge","connectEdge","fm","fb","lx","ly","rx","ry","fx","clipEdges","createCell","site","cellHalfedgeAngle","cell","va","vb","cellHalfedgeStart","cellHalfedgeEnd","sortCellHalfedges","clipCells","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","nCells","cover","v00","v01","v11","v10","Circle","arc","attachCircle","lArc","rArc","lSite","cSite","rSite","bx","by","epsilon2","ha","hc","circlePool","before","firstCircle","detachCircle","Beach","createBeach","beach","beachPool","detachBeach","beaches","removeBeach","disappearing","unshift","iArc","nArcs","addBeach","dxl","dxr","directrix","leftBreakPoint","rightBreakPoint","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","triangleArea","lexicographic","Diagram","sites","ZoomEvent","Transform","__zoom","SVGElement","clientWidth","clientHeight","defaultTransform","fill_summary","odds","prob","getOddsFraction","$","gain","dateStr","toLocaleString","timeStr","toLocaleTimeString","timeZoneName","innerText","hi","mid","ascendingBisect","bisectRight","bisectLeft","variance","valueof","mean","deviation","sturges","LN2","arrays","merged","transpose","matrix","identity$1","constructor","T","namespaces","xlink","xml","xmlns","namespace","prefix","creator","matcher","selector","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","matcher$1","mouseenter","mouseleave","current","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","clientTop","querySelector","selectorAll","querySelectorAll","sparse","constant$1","contains","subgroups","subnode","subgroup","bind","enterGroup","updateGroup","_enter","_exit","groups0","groups1","m0","merges","group0","group1","sortgroups","sortgroup","classed","html","touch","preventDefault","constant$2","define","factory","reI","reN","reP","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","displayable","brighter","darker","PI","cssNode","cssRoot","cssView","svgNode","basis$1","basisClosed","constant$3","interpolateRgb","rgbGamma","rgbBasis","rgbBasisClosed","array$1","nb","na","reA","reB","interpolateString","am","bm","bs","bi","lastIndex","valueOf","decompose","interpolateTransformCss","interpolateTransformSvg","consolidate","rho","SQRT2","interpolateZoom","ux0","uy0","ux1","uy1","coshr0","hsl$2","hslLong","hcl$2","hclLong","cubehelix$2","cubehelixLong","performance","requestAnimationFrame","TypeError","timeout$1","emptyOn","emptyTween","interpolate$$1","interpolateNumber","selection_prototype","id0","id1","polyIn","custom","polyOut","polyInOut","backIn","overshoot","backOut","backInOut","elasticIn","amplitude","period","elasticOut","elasticInOut","easeCubicInOut","constant$4","noevent$1","xy","XY","nw","ne","se","sw","constant$5","tauEpsilon","closePath","lineTo","quadraticCurveTo","arcTo","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","ccw","clear","keys","entries","proto","dsv","delimiter","parseRows","token","EOF","eol","EOL","delimiterCode","formatRow","formatValue","reFormat","convert","formatRows","csv","csvParse","csvParseRows","csvFormat","csvFormatRows","tsv","tsvParse","tsvParseRows","tsvFormat","tsvFormatRows","constant$6","jiggle","random","Quad","treeProto","xz","yz","visit","quads","retainer","removeAll","visitAfter","prefixExponent","initialRadius","initialAngle","formatDecimal","toExponential","coefficient","exponent$1","formatGroup","grouping","thousands","substring","formatNumerals","numerals","formatRounded","","out","toPrecision","toFixed","toUpperCase","identity$3","prefixes","valuePrefix","valueSuffix","suffix","formatType","valueNegative","maybeSuffix","decimal","currency","percent","precisionFixed","precisionPrefix","precisionRound","temp","streamObjectType","Feature","FeatureCollection","features","Sphere","Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection","geometries","areaSum","areaRing","constant$7","pointEqual","isSubject","sinPhi1","absDelta","intersection","phiArc","length$1","containsObjectType","identity$4","area","bounds","centroid","_radius","pointRadius","_line","_point","lengthRing","_circle","pointVisible","sink","pointLine","pointRing","ringSink","ringSegments","ringBuffer","polygonStarted","rotatedStart","sign0","sign1","cr","two","n2","n2n2","n1n2","determinant","n1xn2","uu","polar","meridian","q1","code","smallRadius","notHemisphere","point2","conicEqualArea","albers","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","eachAfter","descendants","leaves","links","shuffle$1","shuffle","constant$8","roundNode","preroot","ambiguous","squarify","resquarify","_squarify","cross$1","defer","await","results","awaitAll","defaultSource$1","uniform","sourceRandomUniform","randomUniform","sourceRandomNormal","randomNormal","mu","sigma","logNormal","sourceRandomLogNormal","randomLogNormal","irwinHall","sourceRandomIrwinHall","randomIrwinHall","bates","sourceRandomBates","randomBates","exponential$1","sourceRandomExponential","randomExponential","url","respond","status","mimeType","headers","XMLHttpRequest","user","password","XDomainRequest","onload","onerror","ontimeout","onreadystatechange","readyState","onprogress","header","send","post","method","open","setRequestHeader","overrideMimeType","type$1","defaultMimeType","createRange","createContextualFragment","json","responseXML","dsv$1","csv$1","tsv$1","constant$9","number$1","milliseconds","seconds","minutes","hours","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","setMonth","years","utcMinute","setUTCSeconds","utcMinutes","utcHour","setUTCMinutes","utcHours","utcDays","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","utcMonth","setUTCMonth","utcMonths","utcYears","-","0","formatIso","toISOString","parseIso","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","timeMillisecond","category10","category20b","category20c","category20","cubehelix$3","interpolateCubehelixLong","warm","cool","rainbow","viridis","magma","inferno","plasma","constant$10","a01","a11","a10","da0","da1","ap","rp","padRadius","cornerRadius","rc0","rc1","oc","kc","lc","areaStart","areaEnd","curveLinear","defined0","defined","area$2","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","descending$1","identity$7","curveRadialLinear","circle$2","draw","cross$2","tan30","tan30_2","diamond","kr","star","square","sqrt3","triangle","wye","symbols","noop$2","_x3","_x4","_y3","_y4","bundle","cardinal","_x5","_y5","cardinalClosed","cardinalOpen","x23","y23","catmullRom","catmullRomClosed","catmullRomOpen","_t0","px","py","none$1","none$2","ascending$2","sums","constant$11","after","grandpa","uncle","sibling","polygons","triangles","_found","constant$12","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY","noevent$2","values0","values1","histogram","tz","bin","bins","numbers","pairs","permutes","xi","xj","chord","groupSums","groupIndex","subgroupIndex","chords","sortGroups","sortSubgroups","di","dj","subindex","sortChords","ribbon","sr","sa0","sa1","sx0","tr","ta0","ta1","createResult","setResult","rollup","sortValues","valuesByKey","sortKey","sortKeys","nest","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","container","mousemoved","mouseupped","nodrag","mousemoving","mousedownx","mousedowny","clickDistance2","gestures","sublisteners","clickDistance","force","sx","sy","yi","ri","ri2","iterations","prepare","radii","quad","rj","strength","distances","strengths","bias","initializeStrength","initializeDistance","accumulate","theta2","distanceMax2","distanceMin2","distanceMin","distanceMax","simulation","alphaMin","stepper","alphaTarget","alphaDecay","forces","velocityDecay","initializeNodes","initializeForce","closest","feature","deltaMax","sy1","kx0","ky0","kx1","ky1","contextStream","projectionStream","pathArea","measure","pathMeasure","pathBounds","pathCentroid","albersUsa","lower48Point","alaskaPoint","hawaiiPoint","lower48","alaska","hawaii","pointStream","reflectX","reflectY","cluster","previousNode","separation","nodeSize","partition","positionNode","stratify","nodeKey","nodeByKey","firstWalk","secondWalk","sizeNode","siblings","midpoint","apportion","vip","vop","vom","sip","sop","sim","som","treemap","paddingStack","paddingLeft","paddingTop","paddingRight","paddingBottom","tile","valueOffset","valueTarget","valueLeft","valueRight","xk","yk","colorLab","samples","sortedPoints","flippedPoints","upperIndexes","lowerIndexes","skipLeft","skipRight","hull","inside","perimeter","utcWeek","utcSecond","utcMillisecond","ts","pie","arcs","pa","descending","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","stack","oz","kz","sz","sij","ki","si","orderNone","offsetNone","yn","s2","sij0","s3","tops","bottoms","total","voronoi","zoom","wheeled","dblclicked","k0","k1","constrain","Gesture","deltaY","deltaMode","wheel","wheelDelay","touch0","touch1","touchstarting","touchDelay","dp","dl","collection","scaleBy","scaleTo","translateBy","scaleExtent","translateExtent","BLUE","LIGHT_BLUE","RED","LIGHT_RED","currentSeats","bigScreen","innerWidth","graphics","overview","el","aspectRatio","maxHeight","iR","oR","margin","d3.arc","dem","dem_error","dem_gain","gop","gop_error","centerLine","getCoords","currentAngle","currentLabel","currentArrow","placement","demAngle","seatsText","gainText","demProbText","gopProbText","d3.select","seats","gopAngle","errAngle","seats_std","gained","defs","history","endDate","nTicks","startDate","xAxis","d3.axisBottom","yAxis","d3.axisLeft","d3.format","d3.line","resetTooltip","box","shade","dateText","dateFormat","fillOdds","last","flip","topOdds","botOdds","topPct","probFormat","botPct","mhistory","d3.scaleTime","d3.bisector","maxOdds","d3.max","oddsExtent","d3.scaleLinear","y_el","half","d3.timeFormat","mx","my","d3.mouse","xval","idx","generic","nowBox","today","future","errTop","d3.area","errBot","bot","nowText","mrg","marginText","marginFormat","errorText","errorFormat","std","weeks","d3.min","outcomes","table","hist","seats_dist","cuml","sds","maxProb","pctFormat","gainFormat","races","states","partitions","strong_dem","lean_dem","tossup","lean_gop","strong_gop","race","districts","tables","distStr","district","abbr_to_ap","probFmt","marginFmt","incumbent","best","LOG","val","console","async","resp","fetch","then"],"mappings":"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","sourcesContent":["import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","export default function(array, f) {\n  if (f == null) f = pair;\n  var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n  while (i < n) pairs[i] = f(p, p = array[++i]);\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse = stop < start,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  if (reverse) n = start, start = stop, stop = n;\n\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import min from \"./min\";\n\nexport default function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = range[0] + 0.5,\n        range1 = range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : identity)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"#000\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"#000\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter\n            : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag\";\nimport noevent, {nopropagation} from \"./noevent\";\nimport constant from \"./constant\";\nimport DragEvent from \"./event\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar Kn = 18,\n    Xn = 0.950470, // D65 standard referent\n    Yn = 1,\n    Zn = 1.088830,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow;\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, delay);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clockNow, interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id]) || schedule.state > CREATED) throw new Error(\"too late\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id]) || schedule.state > STARTING) throw new Error(\"too late\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"too late\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      // Dispatch the interrupt event.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions. No interrupt event is dispatched\n      // because the cancelled transitions never started. Note that this also\n      // removes this transition from the pending list!\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(null, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttribute(name);\n    value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value + \"\"));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrTweenNS(fullname, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttributeNS(fullname.space, fullname.local, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttribute(name, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleRemove(name, interpolate) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction styleRemoveEnd(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = value(this);\n    if (value1 == null) value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n          .styleTween(name, styleRemove(name, i))\n          .on(\"end.style.\" + name, styleRemoveEnd(name))\n      : this.styleTween(name, typeof value === \"function\"\n          ? styleFunction(name, i, tweenValue(this, \"style.\" + name, value))\n          : styleConstant(name, i, value + \"\"), priority);\n}\n","function styleTween(name, value, priority) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.style.setProperty(name, i(t), priority);\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease\n};\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","export function expIn(t) {\n  return Math.pow(2, 10 * t - 10);\n}\n\nexport function expOut(t) {\n  return 1 - Math.pow(2, -10 * t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {customEvent, event, mouse, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant\";\nimport BrushEvent from \"./event\";\nimport noevent, {nopropagation} from \"./noevent\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nvar X = {\n  name: \"x\",\n  handles: [\"e\", \"w\"].map(type),\n  input: function(x, e) { return x && [[x[0], e[0][1]], [x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y && [[e[0][0], y[0]], [e[1][0], y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"].map(type),\n  input: function(xy) { return xy; },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      listeners = dispatch(brush, \"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n        .on(\"mousedown.brush touchstart.brush\", started);\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && empty(selection1) ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 && selection1 ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 == null || empty(selection1) ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args) {\n    return that.__brush.emitter || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (event.touches) { if (event.changedTouches.length < event.touches.length) return noevent(); }\n    else if (touchending) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx,\n        dy,\n        moving,\n        shifting = signX && signY && event.shiftKey,\n        lockX,\n        lockY,\n        point0 = mouse(that),\n        point = point0,\n        emit = emitter(that, arguments).beforestart();\n\n    if (type === \"overlay\") {\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      group\n          .on(\"touchmove.brush\", moved, true)\n          .on(\"touchend.brush touchcancel.brush\", ended, true);\n    } else {\n      var view = select(event.view)\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = mouse(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n        group.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = extent.apply(this, arguments);\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","import {range} from \"d3-array\";\nimport {max, tau} from \"./math\";\n\nfunction compareValue(compare) {\n  return function(a, b) {\n    return compare(\n      a.source.value + a.target.value,\n      b.source.value + b.target.value\n    );\n  };\n}\n\nexport default function() {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = [],\n        groupIndex = range(n),\n        subgroupIndex = [],\n        chords = [],\n        groups = chords.groups = new Array(n),\n        subgroups = new Array(n * n),\n        k,\n        x,\n        x0,\n        dx,\n        i,\n        j;\n\n    // Compute the sum.\n    k = 0, i = -1; while (++i < n) {\n      x = 0, j = -1; while (++j < n) {\n        x += matrix[i][j];\n      }\n      groupSums.push(x);\n      subgroupIndex.push(range(n));\n      k += x;\n    }\n\n    // Sort groups…\n    if (sortGroups) groupIndex.sort(function(a, b) {\n      return sortGroups(groupSums[a], groupSums[b]);\n    });\n\n    // Sort subgroups…\n    if (sortSubgroups) subgroupIndex.forEach(function(d, i) {\n      d.sort(function(a, b) {\n        return sortSubgroups(matrix[i][a], matrix[i][b]);\n      });\n    });\n\n    // Convert the sum to scaling factor for [0, 2pi].\n    // TODO Allow start and end angle to be specified?\n    // TODO Allow padding to be specified as percentage?\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n;\n\n    // Compute the start and end angle for each group and subgroup.\n    // Note: Opera has a bug reordering object literal properties!\n    x = 0, i = -1; while (++i < n) {\n      x0 = x, j = -1; while (++j < n) {\n        var di = groupIndex[i],\n            dj = subgroupIndex[di][j],\n            v = matrix[di][dj],\n            a0 = x,\n            a1 = x += v * k;\n        subgroups[dj * n + di] = {\n          index: di,\n          subindex: dj,\n          startAngle: a0,\n          endAngle: a1,\n          value: v\n        };\n      }\n      groups[di] = {\n        index: di,\n        startAngle: x0,\n        endAngle: x,\n        value: groupSums[di]\n      };\n      x += dx;\n    }\n\n    // Generate chords for each (non-empty) subgroup-subgroup link.\n    i = -1; while (++i < n) {\n      j = i - 1; while (++j < n) {\n        var source = subgroups[j * n + i],\n            target = subgroups[i * n + j];\n        if (source.value || target.value) {\n          chords.push(source.value < target.value\n              ? {source: target, target: source}\n              : {source: source, target: target});\n        }\n      }\n    }\n\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function(_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function(_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function(_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function(_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon)) {}\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport {cos, halfPi, sin} from \"./math\";\nimport {path} from \"d3-path\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nexport default function() {\n  var source = defaultSource,\n      target = defaultTarget,\n      radius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        argv = slice.call(arguments),\n        s = source.apply(this, argv),\n        t = target.apply(this, argv),\n        sr = +radius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        sx0 = sr * cos(sa0),\n        sy0 = sr * sin(sa0),\n        tr = +radius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n\n    if (!context) context = buffer = path();\n\n    context.moveTo(sx0, sy0);\n    context.arc(0, 0, sr, sa0, sa1);\n    if (sa0 !== ta0 || sa1 !== ta1) { // TODO sr !== tr?\n      context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n      context.arc(0, 0, tr, ta0, ta1);\n    }\n    context.quadraticCurveTo(0, 0, sx0, sy0);\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  ribbon.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : radius;\n  };\n\n  ribbon.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.source = function(_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function(_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;\n  };\n\n  return ribbon;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) return rollup != null\n        ? rollup(array) : (sortValues != null\n        ? array.sort(sortValues)\n        : array);\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","function objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      delimiterCode = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns;\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var EOL = {}, // sentinel value for end-of-line\n        EOF = {}, // sentinel value for end-of-file\n        rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // the current line number\n        t, // the current token\n        eol; // is the current token followed by EOL?\n\n    function token() {\n      if (I >= N) return EOF; // special case: end of file\n      if (eol) return eol = false, EOL; // special case: end of line\n\n      // special case: quotes\n      var j = I, c;\n      if (text.charCodeAt(j) === 34) {\n        var i = j;\n        while (i++ < N) {\n          if (text.charCodeAt(i) === 34) {\n            if (text.charCodeAt(i + 1) !== 34) break;\n            ++i;\n          }\n        }\n        I = i + 2;\n        c = text.charCodeAt(i + 1);\n        if (c === 13) {\n          eol = true;\n          if (text.charCodeAt(i + 2) === 10) ++I;\n        } else if (c === 10) {\n          eol = true;\n        }\n        return text.slice(j + 1, i).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // common case: find next delimiter or newline\n      while (I < N) {\n        var k = 1;\n        c = text.charCodeAt(I++);\n        if (c === 10) eol = true; // \\n\n        else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } // \\r|\\r\\n\n        else if (c !== delimiterCode) continue;\n        return text.slice(j, I - k);\n      }\n\n      // special case: last token before EOF\n      return text.slice(j);\n    }\n\n    while ((t = token()) !== EOF) {\n      var a = [];\n      while (t !== EOL && t !== EOF) {\n        a.push(t);\n        t = token();\n      }\n      if (f && (a = f(a, n++)) == null) continue;\n      rows.push(a);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\"\n        : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\\\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n}\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, inherit the existing extent.\n  if (x1 < x0) x0 = this._x0, x1 = this._x1;\n  if (y1 < y0) y0 = this._y0, y1 = this._y1;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {quadtree} from \"d3-quadtree\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(), l += x * x;\n            if (y === 0) y = jiggle(), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {map} from \"d3-collection\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"missing: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle();\n        y = target.y + target.vy - source.y - source.vy || jiggle();\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = map(nodes, id),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {map} from \"d3-collection\";\nimport {timer} from \"d3-timer\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick() {\n    var i, n = nodes.length, node;\n\n    alpha += (alphaTarget - alpha) * alphaDecay;\n\n    forces.each(function(force) {\n      force(alpha);\n    });\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (node.fx == null) node.x += node.vx *= velocityDecay;\n      else node.x = node.fx, node.vx = 0;\n      if (node.fy == null) node.y += node.vy *= velocityDecay;\n      else node.y = node.fy, node.vy = 0;\n    }\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.remove(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305–363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import adder from \"./adder\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder\";\nimport {areaStream, areaRingSum} from \"./area\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport {abs, degrees, epsilon, radians} from \"./math\";\nimport stream from \"./stream\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, degrees, epsilon, epsilon2, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  stream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / sqrt(m)) * degrees];\n}\n","import compose from \"./compose\";\nimport {asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport constant from \"./constant\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math\";\nimport {rotateRadians} from \"./rotation\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import pointEqual from \"../pointEqual\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {abs, epsilon} from \"../math\";\nimport clipBuffer from \"./buffer\";\nimport clipLine from \"./line\";\nimport clipPolygon from \"./polygon\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport function clipExtent(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipPolygon(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipExtent(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import adder from \"./adder\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import {default as polygonContains} from \"./polygonContains\";\nimport {default as distance} from \"./distance\";\nimport {epsilon, radians} from \"./math\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ab = distance(coordinates[0], coordinates[1]),\n      ao = distance(coordinates[0], point),\n      ob = distance(point, coordinates[1]);\n  return ao + ob <= ab + epsilon;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import adder from \"../adder\";\nimport {abs} from \"../math\";\nimport noop from \"../noop\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import {sqrt} from \"../math\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math\";\nimport noop from \"../noop\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import adder from \"../adder\";\nimport {sqrt} from \"../math\";\nimport noop from \"../noop\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import clipBuffer from \"./buffer\";\nimport clipPolygon from \"./polygon\";\nimport {epsilon, halfPi} from \"../math\";\nimport polygonContains from \"../polygonContains\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(rotate, sink) {\n    var line = clipLine(sink),\n        rotatedStart = rotate.invert(start[0], start[1]),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, rotatedStart);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipPolygon(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      var point = rotate(lambda, phi);\n      if (pointVisible(lambda = point[0], phi = point[1])) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      var point = rotate(lambda, phi);\n      line.point(point[0], point[1]);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      var point = rotate(lambda, phi);\n      ringSink.point(point[0], point[1]);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream\";\nimport boundsStream from \"../path/bounds\";\n\nexport function fitExtent(projection, extent, object) {\n  var w = extent[1][0] - extent[0][0],\n      h = extent[1][1] - extent[0][1],\n      clip = projection.clipExtent && projection.clipExtent();\n\n  projection\n      .scale(150)\n      .translate([0, 0]);\n\n  if (clip != null) projection.clipExtent(null);\n\n  geoStream(object, projection.stream(boundsStream));\n\n  var b = boundsStream.result(),\n      k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n      x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n      y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n\n  if (clip != null) projection.clipExtent(clip);\n\n  return projection\n      .scale(k * 150)\n      .translate([x, y]);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n","import {cartesian} from \"../cartesian\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math\";\nimport {transformer} from \"../transform\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian\";\nimport clipCircle from \"../clip/circle\";\nimport {clipExtent} from \"../clip/extent\";\nimport compose from \"../compose\";\nimport identity from \"../identity\";\nimport {degrees, radians, sqrt} from \"../math\";\nimport {rotateRadians} from \"../rotation\";\nimport {transformer} from \"../transform\";\nimport {fitExtent, fitSize} from \"./fit\";\nimport resample from \"./resample\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      dx, dy, lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, projectRotate, // rotate\n      theta = null, preclip = clipAntimeridian, // clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // clip extent\n      delta2 = 0.5, projectResample = resample(projectTransform, delta2), // precision\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    point = projectRotate(point[0] * radians, point[1] * radians);\n    return [point[0] * k + dx, dy - point[1] * k];\n  }\n\n  function invert(point) {\n    point = projectRotate.invert((point[0] - dx) / k, (dy - point[1]) / k);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  function projectTransform(x, y) {\n    return x = project(x, y), [x[0] * k + dx, dy - x[1] * k];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(preclip(rotate, projectResample(postclip(cacheStream = stream))));\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians, 6 * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  function recenter() {\n    projectRotate = compose(rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma), project);\n    var center = project(lambda, phi);\n    dx = x - center[0] * k;\n    dy = y + center[1] * k;\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math\";\nimport {projectionMutator} from \"./index\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {asin, cos, sin} from \"../math\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import {abs, asin, atan2, cos, epsilon, sign, sin, sqrt} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y;\n    return [atan2(x, abs(r0y)) / n * sign(r0y), asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {epsilon} from \"../math\";\nimport albers from \"./albers\";\nimport conicEqualArea from \"./conicEqualArea\";\nimport {fitExtent, fitSize} from \"./fit\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math\";\nimport rotation from \"../rotation\";\nimport projection from \"./index\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pow, sign, sin, sqrt, tan} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {mercatorRaw} from \"./mercator\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy);\n    return [atan2(x, abs(fy)) / n * sign(fy), 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, sign, sin, sqrt} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {equirectangularRaw} from \"./equirectangular\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y;\n    return [atan2(x, abs(gy)) / n * sign(gy), g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import {atan, cos, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import {clipExtent} from \"../clip/extent\";\nimport identity from \"../identity\";\nimport {transformer} from \"../transform\";\nimport {fitExtent, fitSize} from \"./fit\";\n\nfunction scaleTranslate(kx, ky, tx, ty) {\n  return kx === 1 && ky === 1 && tx === 0 && ty === 0 ? identity : transformer({\n    point: function(x, y) {\n      this.stream.point(x * kx + tx, y * ky + ty);\n    }\n  });\n}\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, transform = identity, // scale, translate and reflect\n      x0 = null, y0, x1, y1, clip = identity, // clip extent\n      cache,\n      cacheStream,\n      projection;\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return projection = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = transform(clip(cacheStream = stream));\n    },\n    clipExtent: function(_) {\n      return arguments.length ? (clip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    },\n    scale: function(_) {\n      return arguments.length ? (transform = scaleTranslate((k = +_) * sx, k * sy, tx, ty), reset()) : k;\n    },\n    translate: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * sy, tx = +_[0], ty = +_[1]), reset()) : [tx, ty];\n    },\n    reflectX: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * (sx = _ ? -1 : 1), k * sy, tx, ty), reset()) : sx < 0;\n    },\n    reflectY: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * (sy = _ ? -1 : 1), tx, ty), reset()) : sy < 0;\n    },\n    fitExtent: function(extent, object) {\n      return fitExtent(projection, extent, object);\n    },\n    fitSize: function(size, object) {\n      return fitSize(projection, size, object);\n    }\n  };\n}\n","import {asin, cos, epsilon, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math\";\nimport {mercatorProjection} from \"./mercator\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","import node_count from \"./count\";\nimport node_each from \"./each\";\nimport node_eachBefore from \"./eachBefore\";\nimport node_eachAfter from \"./eachAfter\";\nimport node_sum from \"./sum\";\nimport node_sort from \"./sort\";\nimport node_path from \"./path\";\nimport node_ancestors from \"./ancestors\";\nimport node_descendants from \"./descendants\";\nimport node_leaves from \"./leaves\";\nimport node_links from \"./links\";\n\nexport default function hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n","function Node(value) {\n  this._ = value;\n  this.next = null;\n}\n\nexport default function(array) {\n  var i,\n      n = (array = array.slice()).length,\n      head = null,\n      node = head;\n\n  while (n) {\n    var next = new Node(array[n - 1]);\n    if (node) node = node.next = next;\n    else node = head = next;\n    array[i] = array[--n];\n  }\n\n  return {\n    head: head,\n    tail: node\n  };\n}\n","import shuffle from \"./shuffle\";\n\nexport default function(circles) {\n  return encloseN(shuffle(circles), []);\n}\n\nfunction encloses(a, b) {\n  var dx = b.x - a.x,\n      dy = b.y - a.y,\n      dr = a.r - b.r;\n  return dr * dr + 1e-6 > dx * dx + dy * dy;\n}\n\n// Returns the smallest circle that contains circles L and intersects circles B.\nfunction encloseN(L, B) {\n  var circle,\n      l0 = null,\n      l1 = L.head,\n      l2,\n      p1;\n\n  switch (B.length) {\n    case 1: circle = enclose1(B[0]); break;\n    case 2: circle = enclose2(B[0], B[1]); break;\n    case 3: circle = enclose3(B[0], B[1], B[2]); break;\n  }\n\n  while (l1) {\n    p1 = l1._, l2 = l1.next;\n    if (!circle || !encloses(circle, p1)) {\n\n      // Temporarily truncate L before l1.\n      if (l0) L.tail = l0, l0.next = null;\n      else L.head = L.tail = null;\n\n      B.push(p1);\n      circle = encloseN(L, B); // Note: reorders L!\n      B.pop();\n\n      // Move l1 to the front of L and reconnect the truncated list L.\n      if (L.head) l1.next = L.head, L.head = l1;\n      else l1.next = null, L.head = L.tail = l1;\n      l0 = L.tail, l0.next = l2;\n\n    } else {\n      l0 = l1;\n    }\n    l1 = l2;\n  }\n\n  L.tail = l0;\n  return circle;\n}\n\nfunction enclose1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction enclose2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction enclose3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = 2 * (x1 - x2),\n      b2 = 2 * (y1 - y2),\n      c2 = 2 * (r2 - r1),\n      d2 = x1 * x1 + y1 * y1 - r1 * r1 - x2 * x2 - y2 * y2 + r2 * r2,\n      a3 = 2 * (x1 - x3),\n      b3 = 2 * (y1 - y3),\n      c3 = 2 * (r3 - r1),\n      d3 = x1 * x1 + y1 * y1 - r1 * r1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / ab - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / ab - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (xa * xb + ya * yb + r1),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = (-B - Math.sqrt(B * B - 4 * A * C)) / (2 * A);\n  return {\n    x: xa + xb * r + x1,\n    y: ya + yb * r + y1,\n    r: r\n  };\n}\n","import enclose from \"./enclose\";\n\nfunction place(a, b, c) {\n  var ax = a.x,\n      ay = a.y,\n      da = b.r + c.r,\n      db = a.r + c.r,\n      dx = b.x - ax,\n      dy = b.y - ay,\n      dc = dx * dx + dy * dy;\n  if (dc) {\n    var x = 0.5 + ((db *= db) - (da *= da)) / (2 * dc),\n        y = Math.sqrt(Math.max(0, 2 * da * (db + dc) - (db -= dc) * db - da * da)) / (2 * dc);\n    c.x = ax + x * dx + y * dy;\n    c.y = ay + x * dy - y * dx;\n  } else {\n    c.x = ax + db;\n    c.y = ay;\n  }\n}\n\nfunction intersects(a, b) {\n  var dx = b.x - a.x,\n      dy = b.y - a.y,\n      dr = a.r + b.r;\n  return dr * dr - 1e-6 > dx * dx + dy * dy;\n}\n\nfunction distance2(node, x, y) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab - x,\n      dy = (a.y * b.r + b.y * a.r) / ab - y;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = circles.length)) return 0;\n\n  var a, b, c, n;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the weighted centroid.\n  var aa = a.r * a.r,\n      ba = b.r * b.r,\n      ca = c.r * c.r,\n      oa = aa + ba + ca,\n      ox = aa * a.x + ba * b.x + ca * c.x,\n      oy = aa * a.y + ba * b.y + ca * c.y,\n      cx, cy, i, j, k, sj, sk;\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle…\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // “Closeness” is determined by linear distance along the front-chain.\n    // “Ahead” or “behind” is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Update the weighted centroid.\n    oa += ca = c._.r * c._.r;\n    ox += ca * c._.x;\n    oy += ca * c._.y;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = distance2(a, cx = ox / oa, cy = oy / oa);\n    while ((c = c.next) !== b) {\n      if ((ca = distance2(c, cx, cy)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings\";\nimport {optional} from \"../accessors\";\nimport constant, {constantZero} from \"../constant\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","import {required} from \"./accessors\";\nimport {Node, computeHeight} from \"./hierarchy/index\";\n\nvar keyPrefix = \"$\", // Protect against keys like “__proto__”.\n    preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var d,\n        i,\n        n = data.length,\n        root,\n        parent,\n        node,\n        nodes = new Array(n),\n        nodeId,\n        nodeKey,\n        nodeByKey = {};\n\n    for (i = 0; i < n; ++i) {\n      d = data[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = keyPrefix + (node.id = nodeId);\n        nodeByKey[nodeKey] = nodeKey in nodeByKey ? ambiguous : node;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], nodeId = parentId(data[i], i, data);\n      if (nodeId == null || !(nodeId += \"\")) {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      } else {\n        parent = nodeByKey[keyPrefix + nodeId];\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","import treemapDice from \"./dice\";\nimport treemapSlice from \"./slice\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import cross from \"./cross\";\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  var n = points.length,\n      indexes = [0, 1],\n      size = 2;\n\n  for (var i = 2; i < n; ++i) {\n    while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nexport default function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n}\n","import {slice} from \"./array\";\n\nvar noabort = {};\n\nfunction Queue(size) {\n  this._size = size;\n  this._call =\n  this._error = null;\n  this._tasks = [];\n  this._data = [];\n  this._waiting =\n  this._active =\n  this._ended =\n  this._start = 0; // inside a synchronous task callback?\n}\n\nQueue.prototype = queue.prototype = {\n  constructor: Queue,\n  defer: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"defer after await\");\n    if (this._error != null) return this;\n    var t = slice.call(arguments, 1);\n    t.push(callback);\n    ++this._waiting, this._tasks.push(t);\n    poke(this);\n    return this;\n  },\n  abort: function() {\n    if (this._error == null) abort(this, new Error(\"abort\"));\n    return this;\n  },\n  await: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"multiple await\");\n    this._call = function(error, results) { callback.apply(null, [error].concat(results)); };\n    maybeNotify(this);\n    return this;\n  },\n  awaitAll: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"multiple await\");\n    this._call = callback;\n    maybeNotify(this);\n    return this;\n  }\n};\n\nfunction poke(q) {\n  if (!q._start) {\n    try { start(q); } // let the current task complete\n    catch (e) {\n      if (q._tasks[q._ended + q._active - 1]) abort(q, e); // task errored synchronously\n      else if (!q._data) throw e; // await callback errored synchronously\n    }\n  }\n}\n\nfunction start(q) {\n  while (q._start = q._waiting && q._active < q._size) {\n    var i = q._ended + q._active,\n        t = q._tasks[i],\n        j = t.length - 1,\n        c = t[j];\n    t[j] = end(q, i);\n    --q._waiting, ++q._active;\n    t = c.apply(null, t);\n    if (!q._tasks[i]) continue; // task finished synchronously\n    q._tasks[i] = t || noabort;\n  }\n}\n\nfunction end(q, i) {\n  return function(e, r) {\n    if (!q._tasks[i]) return; // ignore multiple callbacks\n    --q._active, ++q._ended;\n    q._tasks[i] = null;\n    if (q._error != null) return; // ignore secondary errors\n    if (e != null) {\n      abort(q, e);\n    } else {\n      q._data[i] = r;\n      if (q._waiting) poke(q);\n      else maybeNotify(q);\n    }\n  };\n}\n\nfunction abort(q, e) {\n  var i = q._tasks.length, t;\n  q._error = e; // ignore active callbacks\n  q._data = undefined; // allow gc\n  q._waiting = NaN; // prevent starting\n\n  while (--i >= 0) {\n    if (t = q._tasks[i]) {\n      q._tasks[i] = null;\n      if (t.abort) {\n        try { t.abort(); }\n        catch (e) { /* ignore */ }\n      }\n    }\n  }\n\n  q._active = NaN; // allow notification\n  maybeNotify(q);\n}\n\nfunction maybeNotify(q) {\n  if (!q._active && q._call) {\n    var d = q._data;\n    q._data = undefined; // allow gc\n    q._call(q._error, d);\n  }\n}\n\nexport default function queue(concurrency) {\n  if (concurrency == null) concurrency = Infinity;\n  else if (!((concurrency = +concurrency) >= 1)) throw new Error(\"invalid concurrency\");\n  return new Queue(concurrency);\n}\n","import {map} from \"d3-collection\";\nimport {dispatch} from \"d3-dispatch\";\n\nexport default function(url, callback) {\n  var request,\n      event = dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n      mimeType,\n      headers = map(),\n      xhr = new XMLHttpRequest,\n      user = null,\n      password = null,\n      response,\n      responseType,\n      timeout = 0;\n\n  // If IE does not support CORS, use XDomainRequest.\n  if (typeof XDomainRequest !== \"undefined\"\n      && !(\"withCredentials\" in xhr)\n      && /^(http(s)?:)?\\/\\//.test(url)) xhr = new XDomainRequest;\n\n  \"onload\" in xhr\n      ? xhr.onload = xhr.onerror = xhr.ontimeout = respond\n      : xhr.onreadystatechange = function(o) { xhr.readyState > 3 && respond(o); };\n\n  function respond(o) {\n    var status = xhr.status, result;\n    if (!status && hasResponse(xhr)\n        || status >= 200 && status < 300\n        || status === 304) {\n      if (response) {\n        try {\n          result = response.call(request, xhr);\n        } catch (e) {\n          event.call(\"error\", request, e);\n          return;\n        }\n      } else {\n        result = xhr;\n      }\n      event.call(\"load\", request, result);\n    } else {\n      event.call(\"error\", request, o);\n    }\n  }\n\n  xhr.onprogress = function(e) {\n    event.call(\"progress\", request, e);\n  };\n\n  request = {\n    header: function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers.get(name);\n      if (value == null) headers.remove(name);\n      else headers.set(name, value + \"\");\n      return request;\n    },\n\n    // If mimeType is non-null and no Accept header is set, a default is used.\n    mimeType: function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return request;\n    },\n\n    // Specifies what type the response value should take;\n    // for instance, arraybuffer, blob, document, or text.\n    responseType: function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return request;\n    },\n\n    timeout: function(value) {\n      if (!arguments.length) return timeout;\n      timeout = +value;\n      return request;\n    },\n\n    user: function(value) {\n      return arguments.length < 1 ? user : (user = value == null ? null : value + \"\", request);\n    },\n\n    password: function(value) {\n      return arguments.length < 1 ? password : (password = value == null ? null : value + \"\", request);\n    },\n\n    // Specify how to convert the response content to a specific type;\n    // changes the callback value on \"load\" events.\n    response: function(value) {\n      response = value;\n      return request;\n    },\n\n    // Alias for send(\"GET\", …).\n    get: function(data, callback) {\n      return request.send(\"GET\", data, callback);\n    },\n\n    // Alias for send(\"POST\", …).\n    post: function(data, callback) {\n      return request.send(\"POST\", data, callback);\n    },\n\n    // If callback is non-null, it will be used for error and load events.\n    send: function(method, data, callback) {\n      xhr.open(method, url, true, user, password);\n      if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n      if (xhr.setRequestHeader) headers.each(function(value, name) { xhr.setRequestHeader(name, value); });\n      if (mimeType != null && xhr.overrideMimeType) xhr.overrideMimeType(mimeType);\n      if (responseType != null) xhr.responseType = responseType;\n      if (timeout > 0) xhr.timeout = timeout;\n      if (callback == null && typeof data === \"function\") callback = data, data = null;\n      if (callback != null && callback.length === 1) callback = fixCallback(callback);\n      if (callback != null) request.on(\"error\", callback).on(\"load\", function(xhr) { callback(null, xhr); });\n      event.call(\"beforesend\", request, xhr);\n      xhr.send(data == null ? null : data);\n      return request;\n    },\n\n    abort: function() {\n      xhr.abort();\n      return request;\n    },\n\n    on: function() {\n      var value = event.on.apply(event, arguments);\n      return value === event ? request : value;\n    }\n  };\n\n  if (callback != null) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    return request.get(callback);\n  }\n\n  return request;\n}\n\nfunction fixCallback(callback) {\n  return function(error, xhr) {\n    callback(error == null ? xhr : null);\n  };\n}\n\nfunction hasResponse(xhr) {\n  var type = xhr.responseType;\n  return type && type !== \"text\"\n      ? xhr.response // null on error\n      : xhr.responseText; // \"\" on error\n}\n","import request from \"./request\";\n\nexport default function(defaultMimeType, parse) {\n  return function(url, row, callback) {\n    if (arguments.length < 3) callback = row, row = null;\n    var r = request(url).mimeType(defaultMimeType);\n    r.row = function(_) { return arguments.length ? r.response(responseOf(parse, row = _)) : row; };\n    r.row(row);\n    return callback ? r.get(callback) : r;\n  };\n}\n\nfunction responseOf(parse, row) {\n  return function(request) {\n    return parse(request.responseText, row);\n  };\n}\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {map} from \"./array\";\nimport {linearish} from \"./linear\";\nimport number from \"./number\";\n\nexport default function identity() {\n  var domain = [0, 1];\n\n  function scale(x) {\n    return +x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map.call(_, number), scale) : domain.slice();\n  };\n\n  scale.copy = function() {\n    return identity().domain(domain);\n  };\n\n  return linearish(scale);\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport constant from \"./constant\";\nimport nice from \"./nice\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction deinterpolate(a, b) {\n  return (b = Math.log(b / a))\n      ? function(x) { return Math.log(x / a) / b; }\n      : constant(b);\n}\n\nfunction reinterpolate(a, b) {\n  return a < 0\n      ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n      : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport default function log() {\n  var scale = continuous(deinterpolate, reinterpolate).domain([1, 10]),\n      domain = scale.domain,\n      base = 10,\n      logs = logp(10),\n      pows = powp(10);\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  scale.copy = function() {\n    return copy(scale, log().base(base));\n  };\n\n  return scale;\n}\n","import constant from \"./constant\";\nimport {linearish} from \"./linear\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction raise(x, exponent) {\n  return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n}\n\nexport default function pow() {\n  var exponent = 1,\n      scale = continuous(deinterpolate, reinterpolate),\n      domain = scale.domain;\n\n  function deinterpolate(a, b) {\n    return (b = raise(b, exponent) - (a = raise(a, exponent)))\n        ? function(x) { return (raise(x, exponent) - a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    b = raise(b, exponent) - (a = raise(a, exponent));\n    return function(t) { return raise(a + b * t, 1 / exponent); };\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n  };\n\n  scale.copy = function() {\n    return copy(scale, pow().exponent(exponent));\n  };\n\n  return linearish(scale);\n}\n\nexport function sqrt() {\n  return pow().exponent(0.5);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [];\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1];\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range);\n  };\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) while (--step >= 0) while (offseti(date, 1), !test(date)) {} // eslint-disable-line no-empty\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import {timeDay, timeSunday, timeMonday, timeYear, utcDay, utcSunday, utcMonday, utcYear} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"S\": formatSeconds,\n    \"U\": formatWeekNumberSunday,\n    \"w\": formatWeekdayNumber,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"S\": formatUTCSeconds,\n    \"U\": formatUTCWeekNumberSunday,\n    \"w\": formatUTCWeekdayNumber,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"S\": parseSeconds,\n    \"U\": parseWeekNumberSunday,\n    \"w\": parseWeekdayNumber,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0);\n      if (i != string.length) return null;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n        var day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?:\\:?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekdayNumber(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekdayNumber(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = tickStep(start, stop, interval);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import {linearish} from \"./linear\";\n\nexport default function sequential(interpolator) {\n  var x0 = 0,\n      x1 = 1,\n      clamp = false;\n\n  function scale(x) {\n    var t = (x - x0) / (x1 - x0);\n    return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n  };\n\n  return linearish(scale);\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00);\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi) {\n          var oc = da0 > epsilon ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n              ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import curveLinear from \"./linear\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport line from \"./line\";\n\nexport function radialLine(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return radialLine(line().curve(curveRadialLinear));\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"../array\";\nimport constant from \"../constant\";\nimport {x as pointX, y as pointY} from \"../point\";\nimport radialPoint from \"../radialPoint\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = radialPoint(x0, y0),\n      p1 = radialPoint(x0, y0 = (y0 + y1) / 2),\n      p2 = radialPoint(x1, y0),\n      p3 = radialPoint(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop\";\nimport {point} from \"./basis\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","export function x(d) {\n  return d[0];\n}\n\nexport function y(d) {\n  return d[1];\n}\n","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n","import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// Liang–Barsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n","import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there weren’t any edges, have the closest site cover the extent.\n  // It doesn’t matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n","import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n","export default function ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  return node.__zoom || identity;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant\";\nimport ZoomEvent from \"./event\";\nimport {Transform, identity} from \"./transform\";\nimport noevent, {nopropagation} from \"./noevent\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this, w, h;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    w = e.width.baseVal.value;\n    h = e.height.baseVal.value;\n  } else {\n    w = e.clientWidth;\n    h = e.clientHeight;\n  }\n  return [[0, 0], [w, h]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      k0 = 0,\n      k1 = Infinity,\n      x0 = -k1,\n      x1 = k1,\n      y0 = x0,\n      y1 = x1,\n      duration = 250,\n      interpolate = interpolateZoom,\n      gestures = [],\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection) {\n    selection\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n        .property(\"__zoom\", defaultTransform);\n  }\n\n  zoom.transform = function(collection, transform) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n            .start()\n            .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n            .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    });\n  };\n\n  zoom.scaleTo = function(selection, k) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = centroid(e),\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e);\n    });\n  };\n\n  zoom.translateBy = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments));\n    });\n  };\n\n  function scale(transform, k) {\n    k = Math.max(k0, Math.min(k1, k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function constrain(transform, extent) {\n    var dx0 = transform.invertX(extent[0][0]) - x0,\n        dx1 = transform.invertX(extent[1][0]) - x1,\n        dy0 = transform.invertY(extent[0][1]) - y0,\n        dy1 = transform.invertY(extent[1][1]) - y1;\n    return transform.translate(\n      dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n      dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n    );\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, center) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args),\n              e = extent.apply(that, args),\n              p = center || centroid(e),\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args) {\n    for (var i = 0, n = gestures.length, g; i < n; ++i) {\n      if ((g = gestures[i]).that === that) {\n        return g;\n      }\n    }\n    return new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.index = -1;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n  }\n\n  Gesture.prototype = {\n    start: function() {\n      if (++this.active === 1) {\n        this.index = gestures.push(this) - 1;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        gestures.splice(this.index, 1);\n        this.index = -1;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(k0, Math.min(k1, t.k * Math.pow(2, -event.deltaY * (event.deltaMode ? 120 : 1) / 500))),\n        p = mouse(this);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent();\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments));\n\n    noevent();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n    else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        started,\n        n = touches.length, i, t, p;\n\n    nopropagation();\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true;\n      else if (!g.touch1) g.touch1 = p;\n    }\n\n    // If this is a dbltap, reroute to the (optional) dblclick.zoom handler.\n    if (touchstarting) {\n      touchstarting = clearTimeout(touchstarting);\n      if (!g.touch1) {\n        g.end();\n        p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n        return;\n      }\n    }\n\n    if (started) {\n      touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent));\n  }\n\n  function touchended() {\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else g.end();\n  }\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (k0 = +_[0], k1 = +_[1], zoom) : [k0, k1];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], zoom) : [[x0, y0], [x1, y1]];\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n    \n  return zoom;\n}\n","import graphics from \"./graphics\";\n\nasync function main() {\n    let resp = await fetch(\"data/output.json\");\n    let data = await resp.json();\n    window.data = data;\n\n    fill_summary(data);\n    \n    fetch(\"data/history.json\")\n        .then(r => r.json())\n        .then(data => graphics.history(data, $(\"#history\")));\n\n    graphics.overview(data, $(\"#overview\"));\n    graphics.outcomes(data, $(\"#outcomes\"));\n    graphics.generic(data, $(\"#generic\"));\n\n    resp = await fetch(\"data/states.json\");\n    let states = await resp.json();\n    graphics.races(data, states, $(\".tables\"));\n}\n\nfunction fill_summary(data) {\n    let odds = data.prob / (1 - data.prob);\n    let direction = odds > 1 ? \"for\" : \"against\";\n    if (direction == \"against\") odds = 1 / odds;\n\n    let [X, Y] = getOddsFraction(odds);\n\n    $(\".banner > .text\").innerHTML = `\n        The Democrats are expected to ${data.gain > 0 ? \"gain\" : \"lose\"}\n        <b>${Math.round(data.gain)} seats</b>. <br>\n        The odds are <b>${X}:${Y} ${direction}</b> them taking control of the House.`;\n\n    let date = new Date(data.time);\n    let dateStr = date.toLocaleString(\"en-US\", {\n        weekday: \"long\",\n        month: \"long\",\n        day: \"numeric\",\n    });\n    let timeStr =  date.toLocaleTimeString(\"en-US\", {\n        hour: \"numeric\",\n        minute: \"2-digit\",\n        timeZoneName: \"short\",\n    });\n    timeStr = timeStr.slice(0, -2) + \"T\"; // convert PDT to PT\n    $(\".banner > .updated\").innerText = `Last updated ${dateStr} at ${timeStr}.`;\n}\n\nwindow.getOddsFraction = function(odds) {\n    let X, Y;\n\n    if (odds < 3) {\n        let best = odds;\n\n        for (let y = 8; y >= 1; y--) {\n            for (let x = 9; x >= y; x--) {\n                let error = Math.abs(x/y - odds);\n                if (error < best) {\n                    best = error;\n                    X = x;\n                    Y = y;\n                }\n            }\n        }\n    } else {\n        X = Math.round(odds);\n        Y = 1;\n    }\n\n    return [X, Y];\n};\n\nwindow.$ = s => document.querySelector(s);\nwindow.LOG = function(val) {\n    console.log(val);\n    return val;\n};\n\nmain();\n","export var name = \"d3\";\nexport var version = \"4.9.1\";\nexport var description = \"Data-Driven Documents\";\nexport var keywords = [\"dom\",\"visualization\",\"svg\",\"animation\",\"canvas\"];\nexport var homepage = \"https://d3js.org\";\nexport var license = \"BSD-3-Clause\";\nexport var author = {\"name\":\"Mike Bostock\",\"url\":\"https://bost.ocks.org/mike\"};\nexport var main = \"build/d3.node.js\";\nexport var browser = \"build/d3.js\";\nexport var module = \"index\";\nexport var repository = {\"type\":\"git\",\"url\":\"https://github.com/d3/d3.git\"};\nexport var scripts = {\"pretest\":\"rimraf build && mkdir build && json2module package.json > build/package.js && node rollup.node\",\"test\":\"tape 'test/**/*-test.js'\",\"prepublish\":\"npm run test && rollup -c --banner \\\"$(preamble)\\\" -f umd -n d3 -o build/d3.js -- index.js && uglifyjs --preamble \\\"$(preamble)\\\" build/d3.js -c negate_iife=false -m -o build/d3.min.js\",\"postpublish\":\"git push && git push --tags && cd ../d3.github.com && git pull && cp ../d3/build/d3.js d3.v4.js && cp ../d3/build/d3.min.js d3.v4.min.js && git add d3.v4.js d3.v4.min.js && git commit -m \\\"d3 ${npm_package_version}\\\" && git push && cd - && cd ../d3-bower && git pull && cp ../d3/LICENSE ../d3/README.md ../d3/build/d3.js ../d3/build/d3.min.js . && git add -- LICENSE README.md d3.js d3.min.js && git commit -m \\\"${npm_package_version}\\\" && git tag -am \\\"${npm_package_version}\\\" v${npm_package_version} && git push && git push --tags && cd - && zip -j build/d3.zip -- LICENSE README.md API.md CHANGES.md build/d3.js build/d3.min.js\"};\nexport var devDependencies = {\"json2module\":\"0.0\",\"package-preamble\":\"0.1\",\"rimraf\":\"2\",\"rollup\":\"^0.41.4\",\"rollup-plugin-ascii\":\"0.0\",\"rollup-plugin-node-resolve\":\"3\",\"tape\":\"4\",\"uglify-js\":\"^2.8.11\"};\nexport var dependencies = {\"d3-array\":\"1.2.0\",\"d3-axis\":\"1.0.7\",\"d3-brush\":\"1.0.4\",\"d3-chord\":\"1.0.4\",\"d3-collection\":\"1.0.3\",\"d3-color\":\"1.0.3\",\"d3-dispatch\":\"1.0.3\",\"d3-drag\":\"1.1.0\",\"d3-dsv\":\"1.0.5\",\"d3-ease\":\"1.0.3\",\"d3-force\":\"1.0.6\",\"d3-format\":\"1.2.0\",\"d3-geo\":\"1.6.4\",\"d3-hierarchy\":\"1.1.4\",\"d3-interpolate\":\"1.1.5\",\"d3-path\":\"1.0.5\",\"d3-polygon\":\"1.0.3\",\"d3-quadtree\":\"1.0.3\",\"d3-queue\":\"3.0.7\",\"d3-random\":\"1.1.0\",\"d3-request\":\"1.0.5\",\"d3-scale\":\"1.0.6\",\"d3-selection\":\"1.1.0\",\"d3-shape\":\"1.1.1\",\"d3-time\":\"1.0.6\",\"d3-time-format\":\"2.0.5\",\"d3-timer\":\"1.0.5\",\"d3-transition\":\"1.1.0\",\"d3-voronoi\":\"1.1.2\",\"d3-zoom\":\"1.2.0\"};\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = 0,\n      i = -1,\n      mean = 0,\n      value,\n      delta,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  if (m > 1) return sum / (m - 1);\n}\n","import variance from \"./variance\";\n\nexport default function(array, f) {\n  var v = variance(array, f);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return x;\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import {basis} from \"./basis\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(nb),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    if (active) schedule.on.call(\"interrupt\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition} from \"./transition/index\";\nimport {SCHEDULED} from \"./transition/schedule\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n}\n","export var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatRows = csv.formatRows;\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatRows = tsv.formatRows;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function() {\n  return (Math.random() - 0.5) * 1e-6;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1 || y0 > y || y > y1) {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    switch (i = (y < (y0 + y1) / 2) << 1 | (x < (x0 + x1) / 2)) {\n      case 0: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y1 = y0 + z, x > x1 || y > y1);\n        break;\n      }\n      case 1: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y1 = y0 + z, x0 > x || y > y1);\n        break;\n      }\n      case 2: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y0 = y1 - z, x > x1 || y0 > y);\n        break;\n      }\n      case 3: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y0 = y1 - z, x0 > x || y0 > y);\n        break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  // If the quadtree covers the point already, just return.\n  else return this;\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import noop from \"../noop\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {abs, epsilon} from \"./math\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import adder from \"./adder\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian\";\nimport {asin, atan2, cos, epsilon, pi, quarterPi, sin, tau} from \"./math\";\n\nvar sum = adder();\n\nexport default function(polygon, point) {\n  var lambda = point[0],\n      phi = point[1],\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = point0[0],\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = point1[0],\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","import length from \"./length\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","export default function(x) {\n  return x;\n}\n","import noop from \"../noop\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import identity from \"../identity\";\nimport stream from \"../stream\";\nimport pathArea from \"./area\";\nimport pathBounds from \"./bounds\";\nimport pathCentroid from \"./centroid\";\nimport PathContext from \"./context\";\nimport pathMeasure from \"./measure\";\nimport PathString from \"./string\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian\";\nimport {circleStream} from \"../circle\";\nimport {abs, cos, epsilon, pi, sqrt} from \"../math\";\nimport pointEqual from \"../pointEqual\";\nimport clip from \"./index\";\n\nexport default function(radius, delta) {\n  var cr = cos(radius),\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon;\n            point1[1] += epsilon;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import conicEqualArea from \"./conicEqualArea\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {asin, sqrt} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","export default function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice\";\nimport treemapSlice from \"./slice\";\nimport {phi, squarifyRatio} from \"./squarify\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, y0 += (y1 - y0) * row.value / value);\n        else treemapSlice(row, x0, y0, x0 += (x1 - x0) * row.value / value, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nexport default function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n}\n","export var slice = [].slice;\n","export default function() {\n  return Math.random();\n}\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\nimport normal from \"./normal\";\n\nexport default (function sourceRandomLogNormal(source) {\n  function randomLogNormal() {\n    var randomNormal = normal.source(source).apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    return function() {\n      for (var sum = 0, i = 0; i < n; ++i) sum += source();\n      return sum;\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\nimport irwinHall from \"./irwinHall\";\n\nexport default (function sourceRandomBates(source) {\n  function randomBates(n) {\n    var randomIrwinHall = irwinHall.source(source)(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n","import defaultSource from \"./defaultSource\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log(1 - source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n","import request from \"./request\";\n\nexport default function(defaultMimeType, response) {\n  return function(url, callback) {\n    var r = request(url).mimeType(defaultMimeType).response(response);\n    if (callback != null) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      return r.get(callback);\n    }\n    return r;\n  };\n}\n","import type from \"./type\";\n\nexport default type(\"text/html\", function(xhr) {\n  return document.createRange().createContextualFragment(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"application/json\", function(xhr) {\n  return JSON.parse(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"text/plain\", function(xhr) {\n  return xhr.responseText;\n});\n","import type from \"./type\";\n\nexport default type(\"application/xml\", function(xhr) {\n  var xml = xhr.responseXML;\n  if (!xml) throw new Error(\"parse error\");\n  return xml;\n});\n","import {csvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/csv\", csvParse);\n","import {tsvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/tab-separated-values\", tsvParse);\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","import {pi, tau} from \"../math\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle\";\nimport cross from \"./symbol/cross\";\nimport diamond from \"./symbol/diamond\";\nimport star from \"./symbol/star\";\nimport square from \"./symbol/square\";\nimport triangle from \"./symbol/triangle\";\nimport wye from \"./symbol/wye\";\nimport constant from \"./constant\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\nimport {x as pointX, y as pointY} from \"./point\";\nimport Diagram, {epsilon} from \"./Diagram\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x(d, i, data) / epsilon) * epsilon, Math.round(y(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","import {slice} from \"./array\";\nimport bisect from \"./bisect\";\nimport constant from \"./constant\";\nimport extent from \"./extent\";\nimport identity from \"./identity\";\nimport range from \"./range\";\nimport {tickStep} from \"./ticks\";\nimport sturges from \"./threshold/sturges\";\n\nexport default function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = tickStep(x0, x1, tz);\n      tz = range(Math.ceil(x0 / tz) * tz, Math.floor(x1 / tz) * tz, tz); // exclusive\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","import {map} from \"../array\";\nimport ascending from \"../ascending\";\nimport number from \"../number\";\nimport quantile from \"../quantile\";\n\nexport default function(values, min, max) {\n  values = map.call(values, number).sort(ascending);\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n}\n","import deviation from \"../deviation\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n","import ascending from \"./ascending\";\nimport number from \"./number\";\nimport quantile from \"./quantile\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      numbers = [];\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  return quantile(numbers.sort(ascending), 0.5);\n}\n","export default function(array, indexes) {\n  var i = indexes.length, permutes = new Array(i);\n  while (i--) permutes[i] = array[indexes[i]];\n  return permutes;\n}\n","import ascending from \"./ascending\";\n\nexport default function(values, compare) {\n  if (!(n = values.length)) return;\n  var n,\n      i = 0,\n      j = 0,\n      xi,\n      xj = values[j];\n\n  if (compare == null) compare = ascending;\n\n  while (++i < n) {\n    if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {\n      xj = xi, j = i;\n    }\n  }\n\n  if (compare(xj, xj) === 0) return j;\n}\n","export default function(array, i0, i1) {\n  var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m + i0];\n    array[m + i0] = array[i + i0];\n    array[i + i0] = t;\n  }\n\n  return array;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n","import transpose from \"./transpose\";\n\nexport default function() {\n  return transpose(arguments);\n}\n","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","export function linear(t) {\n  return +t;\n}\n","export default function(x, y) {\n  var nodes;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = sx / n - x, sy = sy / n - y, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {quadtree} from \"d3-quadtree\";\nimport {x, y} from \"./simulation\";\n\nexport default function() {\n  var nodes,\n      node,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = q.value)) {\n          strength += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / strength;\n      quad.y = y / strength;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (y === 0) y = jiggle(), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(), l += x * x;\n      if (y === 0) y = jiggle(), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","import roundNode from \"./treemap/round\";\nimport treemapDice from \"./treemap/dice\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import roundNode from \"./round\";\nimport squarify from \"./squarify\";\nimport {required} from \"../accessors\";\nimport constant, {constantZero} from \"../constant\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = (x0 * valueRight + x1 * valueLeft) / value;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = (y0 * valueRight + y1 * valueLeft) / value;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice\";\nimport slice from \"./slice\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n}\n","export default function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      b = polygon[n - 1],\n      xa,\n      ya,\n      xb = b[0],\n      yb = b[1],\n      perimeter = 0;\n\n  while (++i < n) {\n    xa = xb;\n    ya = yb;\n    b = polygon[i];\n    xb = b[0];\n    yb = b[1];\n    xa -= xb;\n    ya -= yb;\n    perimeter += Math.sqrt(xa * xa + ya * ya);\n  }\n\n  return perimeter;\n}\n","import {calendar} from \"./time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\n\nexport default function() {\n  return calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport area from \"./area\";\nimport {radialLine} from \"./radialLine\"\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return radialLine(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return radialLine(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return radialLine(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return radialLine(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import ascending from \"./ascending\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import none from \"./none\";\nimport {sum} from \"./ascending\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = none(series).sort(function(a, b) { return sums[b] - sums[a]; }),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","import {Timer, now} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  delay = +delay, time = time == null ? now() : +time;\n  t.restart(function tick(elapsed) {\n    elapsed += total;\n    t.restart(tick, total += delay, time);\n    callback(elapsed);\n  }, delay, time);\n  return t;\n}\n","import * as d3 from \"d3\";\n\nwindow.d3 = d3;\n\nconst BLUE = \"#67f\";\nconst LIGHT_BLUE = \"#79f\";\nconst RED = \"#f76\";\nconst LIGHT_RED = \"#f99\";\n\nconst currentSeats = 194;\nconst electionDay = new Date(\"11/6/2018\");\n\nlet bigScreen = () => window.innerWidth > 600;\n\n/*\n * Create overview graphic.\n * Semicircular house layout with bands and colors.\n */\nfunction overview(data, el) {\n    let svg = d3.select(el).html(null).append(\"svg\");\n    let g = svg.append(\"g\");\n\n    const aspectRatio = 0.5;\n    const margin = 30;\n    const maxHeight = 350;\n\n    let currentAngle = currentSeats / 435 * Math.PI;\n    let demAngle = data.seats / 435 * Math.PI;\n    let gopAngle = Math.PI - demAngle;\n    let errAngle = 2 * data.seats_std / 435 * Math.PI;\n\n    let left = -Math.PI / 2\n    let right = Math.PI / 2\n\n    let dem = g.append(\"path\")\n        .datum({ startAngle: left, endAngle: left + demAngle })\n        .style(\"fill\", BLUE);\n    let dem_error = g.append(\"path\")\n        .datum({ startAngle: left + demAngle - errAngle, \n                 endAngle: left + demAngle })\n        .style(\"fill\", LIGHT_BLUE);\n    let dem_gain = g.append(\"path\")\n        .datum({ startAngle: left + currentAngle, endAngle: left + demAngle })\n        .style(\"fill\", \"url(#crosshatch)\")\n        .style(\"opacity\", 0.25);\n\n    let gop = g.append(\"path\")\n        .datum({ startAngle: right - gopAngle, endAngle: right })\n        .style(\"fill\", RED);\n    let gop_error = g.append(\"path\")\n        .datum({ startAngle: right - gopAngle,\n                 endAngle: right - gopAngle + errAngle })\n        .style(\"fill\", LIGHT_RED);\n\n    let centerLine = g.append(\"line\")\n        .attr(\"x1\", 0)\n        .attr(\"x2\", 0)\n        .attr(\"stroke-dasharray\", \"7,5\")\n        .attr(\"stroke-width\", 2)\n        .attr(\"stroke\", \"white\");\n\n    let currentLabel = g.append(\"text\")\n        .style(\"font-size\", \"9pt\")\n        .style(\"font-weight\", \"bold\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"fill\", \"#777\")\n        .text(\"CURRENT\");\n\n    let currentArrow = g.append(\"line\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"stroke\", \"black\")\n        .attr(\"opacity\", 0.5)\n        .attr(\"marker-end\", \"url(#arrow)\");\n\n\n    let seatsText = g.append(\"text\")\n        .style(\"fill\", \"white\")\n        .style(\"font-weight\", \"bold\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"dx\", -5)\n        .text(Math.round(data.seats));\n    let gained = Math.round(data.gain);\n    let gainText = g.append(\"text\")\n        .style(\"fill\", \"white\")\n        .style(\"font-size\", \"20px\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"dx\", -5)\n        .text((gained > 0 ? \"+\" : \"\") + gained);\n\n    let demProbText = g.append(\"text\")\n        .attr(\"class\", \"prob\")\n        .attr(\"y\", -10)\n        .text(Math.round(100*data.prob) + \"%\");\n    let gopProbText = g.append(\"text\")\n        .attr(\"class\", \"prob\")\n        .attr(\"y\", -10)\n        .text(Math.round(100 - 100*data.prob) + \"%\");\n\n    let getCoords = function(angle, radius) {\n        let arc = d3.arc()\n            .innerRadius(radius)\n            .outerRadius(radius)\n            .startAngle(angle)\n            .endAngle(angle);\n        return arc.centroid();\n    };\n\n    let defs = svg.append(\"defs\");\n    defs.append(\"marker\")\n        .attr(\"id\", \"arrow\")\n        .attr(\"viewBox\", \"0 -5 10 10\")\n        .attr(\"refX\", 5)\n        .attr(\"refY\", 0)\n        .attr(\"markerWidth\", 4)\n        .attr(\"markerHeight\", 4)\n        .attr(\"orient\", \"auto\")\n        .append(\"path\")\n        .attr(\"d\", \"M0,-5L10,0L0,5\")\n        .attr(\"class\",\"arrowHead\");\n    defs.append(\"pattern\")\n        .attr(\"id\", \"crosshatch\")\n        .attr(\"width\", 6)\n        .attr(\"height\", 6)\n        .attr(\"patternUnits\", \"userSpaceOnUse\")\n        .attr(\"patternTransform\", \"rotate(30)\")\n        .append(\"rect\")\n        .attr(\"width\", 4)\n        .attr(\"height\", 6)\n        .attr(\"transform\", \"translate(0,0)\")\n        .attr(\"fill\", \"white\");\n\n\n    function draw() {\n        let w = el.clientWidth; \n        let h = Math.min(w * aspectRatio, maxHeight);\n        w = h / aspectRatio\n        let dim = Math.min(w/2, h);\n\n        svg\n            .attr(\"width\", w)\n            .attr(\"height\", h);\n        el.height = null;\n\n        g.attr(\"transform\", `translate(${w/2}, ${h})`);\n\n        let iR = bigScreen() ? 100 : 40;\n        let oR = dim - margin;\n        let arc = d3.arc()\n            .innerRadius(iR)\n            .outerRadius(oR);\n\n        dem.attr(\"d\", arc);\n        dem_error.attr(\"d\", arc);\n        dem_gain.attr(\"d\", arc);\n        gop.attr(\"d\", arc);\n        gop_error.attr(\"d\", arc);\n\n        centerLine\n            .attr(\"y1\", -iR)\n            .attr(\"y2\", -oR);\n\n        let [x, y] = getCoords(left + currentAngle, oR + 15);\n        currentLabel\n            .attr(\"x\", x)\n            .attr(\"y\", y)\n            .attr(\"transform\", `rotate(${(left+currentAngle) * 180/Math.PI} ${x} ${y})`);\n\n        let [x1, y1] = getCoords(left + currentAngle, oR + 14);\n        let [x2, y2] = getCoords(left + currentAngle, oR + 3);\n        currentArrow\n            .attr(\"x1\", x1)\n            .attr(\"y1\", y1)\n            .attr(\"x2\", x2)\n            .attr(\"y2\", y2);\n\n        let placement = bigScreen() ? (0.5*oR + 0.5*iR) : (0.3*oR + 0.7*iR);\n        [x, y] = getCoords(left + demAngle, placement);\n        seatsText\n            .attr(\"x\", x)\n            .attr(\"y\", y)\n            .style(\"font-size\", bigScreen() ? 36 : 0.15*h);\n        gainText\n            .attr(\"x\", x)\n            .attr(\"y\", y + 22)\n            .style(\"opacity\", bigScreen() ? 1 : 0); // hide on small screens\n\n        [x, ] = getCoords(left, 0.5*oR + 0.5*iR);\n        demProbText\n            .attr(\"x\", x)\n            .style(\"font-size\", 0.3*(oR-iR));\n        gopProbText\n            .attr(\"x\", -x)\n            .style(\"font-size\", 0.3*(oR-iR));\n    }\n\n    draw();\n    window.addEventListener(\"resize\", draw);\n}\n\n/*\n * Create history graphic.\n * Line plot of odds ratio over time.\n */\nfunction history(data, el) {\n    data = data.map(d => ({ \n        date: new Date(d.time),\n        odds: Math.log2(d.prob / (1 - d.prob)),\n    }));\n    window.mhistory = data;\n    let svg = d3.select(el).append(\"svg\");\n\n    const margin = { L: 40, R: 50, T: 20, B: 10 };\n    let w = el.clientWidth;\n    let h = 320;\n    w -= margin.L + margin.R;\n    h -= margin.T + margin.B;\n\n    let g = svg.append(\"g\")\n        .attr(\"transform\", `translate(${margin.L},${margin.T})`);\n\n    let last = data.length - 1;\n    let startDate = data[0].date;\n    let endDate = data[last].date;\n    let x = d3.scaleTime();\n    let bisector = d3.bisector(d => d.date).left;\n\n    let maxOdds = 1.05 * d3.max(data, d => Math.abs(d.odds));\n    let oddsExtent = Math.max(maxOdds, 4);\n    let y = d3.scaleLinear()\n        .domain([-oddsExtent, oddsExtent])\n        .nice();\n\n    g.append(\"g\")\n        .attr(\"class\", \"x axis\");\n    let y_el = g.append(\"g\")\n        .attr(\"class\", \"y axis\");\n    \n    let half = h / 2;\n    y_el.append(\"text\")\n        .attr(\"class\", \"label for\")\n        .attr(\"y\", half)\n        .attr(\"transform\", `rotate(-90 0 ${half})`)\n        .attr(\"dy\", -25)\n        .attr(\"dx\", 10)\n        .style(\"text-anchor\", \"start\")\n        .text(\"FOR →\");\n    y_el.append(\"text\")\n        .attr(\"class\", \"label against\")\n        .attr(\"y\", half)\n        .attr(\"transform\", `rotate(-90 0 ${half})`)\n        .attr(\"dy\", -25)\n        .attr(\"dx\", -10)\n        .style(\"text-anchor\", \"end\")\n        .text(\"← AGAINST\");\n\n    g.append(\"path\")\n        .datum(data)\n        .attr(\"class\", \"dem line\")\n        .attr(\"stroke\", BLUE);\n    g.append(\"path\")\n        .datum(data)\n        .attr(\"class\", \"gop line\")\n        .attr(\"stroke\", RED);\n\n    // tooltip box\n    let box = g.append(\"g\");\n    let shade = box.append(\"rect\")\n        .attr(\"height\", h+1)\n        .attr(\"width\", margin.R)\n        .style(\"fill\", \"white\")\n        .style(\"fill-opacity\", 0.8);\n    let dateLine = box.append(\"line\")\n        .attr(\"y1\", 0)\n        .attr(\"y2\", h+1)\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-width\", 1)\n        .attr(\"marker-start\", \"url(#triangle)\");\n    let dateText = box.append(\"text\")\n        .attr(\"dy\", -6)\n        .style(\"font-size\", \"9pt\")\n        .style(\"font-weight\", \"bold\")\n        .style(\"text-anchor\", \"middle\");\n    let dateFormat = d3.timeFormat(\"%B %-d\");\n\n    const textMargin = 10;\n    let topOdds = box.append(\"text\")\n        .attr(\"y\", half - textMargin)\n        .attr(\"x\", margin.R / 2)\n        .attr(\"class\", \"odds\");\n    let botOdds = box.append(\"text\")\n        .attr(\"y\", half + textMargin)\n        .attr(\"x\", margin.R / 2)\n        .style(\"alignment-baseline\", \"hanging\")\n        .attr(\"class\", \"odds\");\n    let oddsDivider = box.append(\"line\")\n        .attr(\"x1\", 10)\n        .attr(\"x2\", margin.R - 10)\n        .attr(\"y1\", half)\n        .attr(\"y2\", half)\n        .style(\"stroke\", \"#777\")\n        .style(\"stroke-width\", 3);\n\n    let topPct = box.append(\"text\")\n        .attr(\"y\", 10)\n        .attr(\"x\", 10)\n        .style(\"alignment-baseline\", \"hanging\")\n        .attr(\"class\", \"tip-prob\");\n    let botPct = box.append(\"text\")\n        .attr(\"y\", h - 10)\n        .attr(\"x\", 10)\n        .attr(\"class\", \"tip-prob\");\n    let probFormat = d3.format(\".0%\");\n\n    let defs = svg.append(\"defs\");\n    defs.append(\"marker\")\n        .attr(\"id\", \"triangle\")\n        .attr(\"viewBox\", \"0 -5 10 10\")\n        .attr(\"markerWidth\", 6)\n        .attr(\"markerHeight\", 6)\n        .attr(\"orient\", \"auto\")\n        .append(\"path\")\n        .attr(\"d\", \"M0,-5L10,0L0,5\")\n        .attr(\"class\",\"arrowHead\");\n\n    function draw(max = endDate) {\n        w = el.clientWidth; \n        h = 320;\n        \n        svg\n            .attr(\"width\", w)\n            .attr(\"height\", h);\n\n        w -= margin.L + margin.R;\n        h -= margin.T + margin.B;\n\n        let nTicks = [2, 4, 6, 8, 10, 10];\n        nTicks = nTicks[~~(w / 160)];\n\n        x.domain([startDate, max])\n            .rangeRound([0, w]);\n        y.rangeRound([h, 0]);\n\n        let xAxis = d3.axisBottom(x)\n            .tickSizeOuter(0)\n            .ticks(nTicks);\n        let yAxis = d3.axisLeft(y)\n            .tickSizeInner(-w)\n            .tickFormat(o => {\n                if (o == 0) {\n                    return \"EVEN\";\n                } else {\n                    let value = 2**Math.abs(o); \n                    return d3.format(\".1f\")(value);\n                }\n            });\n\n        svg.select(\".x.axis\")\n            .attr(\"transform\", `translate(0, ${y(0)})`)\n            .call(xAxis);\n\n        svg.select(\".y.axis\")\n            .call(yAxis);\n\n        let line = d3.line()\n            .x(d => x(d.date))\n            .y(d => y(d.odds));\n\n        svg.select(\".dem.line\").attr(\"d\", line);\n\n        line.y(d => y(-d.odds))\n        svg.select(\".gop.line\").attr(\"d\", line);\n\n        resetTooltip();\n    }\n\n    function resetTooltip(max = endDate) {\n        box.attr(\"transform\", `translate(${w}, 0)`)\n        shade.attr(\"width\", margin.R);\n        dateText.text(dateFormat(max));\n        fillOdds(2**data[last].odds);\n    }\n\n    function fillOdds(odds) {\n        let prob = odds / (1 + odds);\n\n        let X, Y;\n        let flip = false;\n        if (odds > 1) {\n            [X, Y] = getOddsFraction(odds);\n        } else {\n            [X, Y] = getOddsFraction(1 / odds);\n            flip = true;\n            prob = 1 - prob\n        }\n\n        topOdds\n            .text(X)\n            .attr(\"fill\", flip ? RED : BLUE);\n        botOdds\n            .text(Y)\n            .attr(\"fill\", flip ? BLUE : RED);\n\n        topPct\n            .text(probFormat(prob))\n            .attr(\"fill\", flip ? RED : BLUE);\n        botPct\n            .text(probFormat(1 - prob))\n            .attr(\"fill\", flip ? BLUE : RED);\n    }\n\n    draw();\n    window.addEventListener(\"resize\", () => draw());\n\n    svg.on(\"mousemove\", function() {\n        let [mx, my] = d3.mouse(g.node());\n\n        if (mx > w) mx = w;\n        if (mx < 0) mx = 0;\n\n        let xval = x.invert(mx);\n        let idx = bisector(data, xval);\n        let closest = data[Math.min(last, idx)];\n\n        box.attr(\"transform\", `translate(${mx}, 0)`)\n        shade.attr(\"width\", w - mx + margin.R);\n        dateText.text(dateFormat(xval));\n        fillOdds(2 ** closest.odds);\n    });\n    svg.on(\"mouseout\", resetTooltip);\n}\n\n/*\n * Create a polling graphic.\n * Line plot of generic congressional ballot over time.\n */\nfunction generic(data, el) {\n    data = data.generic.map(d => ({ \n        date: new Date(d.weeks),\n        margin: d.margin / 100,\n        top: (d.margin + 2*d.std) / 100,\n        bot: (d.margin - 2*d.std) / 100,\n        std: d.std / 100,\n    }));\n    window.generic = data;\n\n    let svg = d3.select(el).append(\"svg\");\n\n    const margin = { L: 40, R: 90, T: 20, B: 10 };\n    let w = el.clientWidth;\n    let h = 320;\n    w -= margin.L + margin.R;\n    h -= margin.T + margin.B;\n\n    let g = svg.append(\"g\")\n        .attr(\"transform\", `translate(${margin.L},${margin.T})`);\n\n    let last = data.length - 1;\n    let startDate = data[0].date;\n    let endDate = data[last].date;\n    let today = Date.now();\n\n    let x = d3.scaleTime()\n        .domain([startDate, endDate]);\n    let bisector = d3.bisector(d => d.date).left;\n\n    let y = d3.scaleLinear()\n        .domain([1.05*d3.min(data, d => d.bot), 1.05*d3.max(data, d => d.top)])\n        .nice();\n    let probFormat = d3.format(\".0%\");\n\n    g.append(\"g\")\n        .attr(\"class\", \"x axis\");\n    let y_el = g.append(\"g\")\n        .attr(\"class\", \"y axis\");\n    \n    y_el.append(\"text\")\n        .attr(\"class\", \"label\")\n        .attr(\"transform\", `rotate(-90)`)\n        .attr(\"dy\", -30)\n        .style(\"text-anchor\", \"end\")\n        .text(\"DEM. MARGIN\");\n\n    const ONE_DAY = 1000 * 60 * 60 * 24;\n    g.append(\"path\")\n        .datum(data.filter(d => d.date <= today + 3*ONE_DAY))\n        .attr(\"class\", \"past line\");\n    g.append(\"path\")\n        .datum(data.filter(d => d.date >= today - 3*ONE_DAY))\n        .attr(\"class\", \"future line\")\n        .style(\"stroke-dasharray\", \"4,4\");\n\n    g.append(\"path\")\n        .datum(data)\n        .attr(\"class\", \"err top\");\n    g.append(\"path\")\n        .datum(data)\n        .attr(\"class\", \"err bot\");\n\n    let nowBox = g.append(\"g\");\n    let nowLine = nowBox.append(\"line\")\n        .attr(\"y1\", 0)\n        .attr(\"y2\", h+1)\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-width\", 1)\n        .attr(\"marker-start\", \"url(#triangle)\");\n    let nowText = nowBox.append(\"text\")\n        .attr(\"dy\", -6)\n        .style(\"font-size\", \"9pt\")\n        .style(\"font-weight\", \"bold\")\n        .style(\"text-anchor\", \"middle\")\n        .text(\"Today\");\n    let future = nowBox.append(\"rect\")\n        .attr(\"height\", h+1)\n        .style(\"fill\", \"black\")\n        .style(\"opacity\", 0.04);\n\n    // tooltip box\n    let box = g.append(\"g\");\n    let shade = box.append(\"rect\")\n        .attr(\"height\", h+1)\n        .attr(\"width\", margin.R)\n        .style(\"fill\", \"white\")\n        .style(\"fill-opacity\", 0.8);\n    let dateLine = box.append(\"line\")\n        .attr(\"y1\", 0)\n        .attr(\"y2\", h+1)\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-width\", 1)\n        .attr(\"marker-start\", \"url(#triangle)\");\n    let dateText = box.append(\"text\")\n        .attr(\"dy\", -6)\n        .style(\"font-size\", \"9pt\")\n        .style(\"font-weight\", \"bold\")\n        .style(\"text-anchor\", \"middle\");\n    let dateFormat = d3.timeFormat(\"%B %-d\");\n\n    let marginText = box.append(\"text\")\n        .attr(\"x\", 4)\n        .style(\"font-size\", \"20pt\")\n        .style(\"font-weight\", \"bold\");\n    let errorText = box.append(\"text\")\n        .attr(\"x\", 4)\n        .attr(\"dx\", 1)\n        .attr(\"dy\", 5)\n        .style(\"font-size\", \"12pt\")\n        .style(\"fill\", \"#777\")\n        .style(\"alignment-baseline\", \"hanging\");\n    let marginFormat = d3.format(\"+.1%\");\n    let errorFormat = d3.format(\".0%\");\n\n    let defs = svg.append(\"defs\");\n    defs.append(\"marker\")\n        .attr(\"id\", \"triangle\")\n        .attr(\"viewBox\", \"0 -5 10 10\")\n        .attr(\"markerWidth\", 6)\n        .attr(\"markerHeight\", 6)\n        .attr(\"orient\", \"auto\")\n        .append(\"path\")\n        .attr(\"d\", \"M0,-5L10,0L0,5\")\n        .attr(\"class\",\"arrowHead\");\n\n    function draw() {\n        w = el.clientWidth; \n        h = 320;\n        \n        svg\n            .attr(\"width\", w)\n            .attr(\"height\", h);\n\n        w -= margin.L + margin.R;\n        h -= margin.T + margin.B;\n\n        let nTicks = [2, 4, 6, 8, 10, 10];\n        nTicks = nTicks[~~(w / 160)];\n\n        x.rangeRound([0, w]);\n        y.rangeRound([h, 0]);\n\n        let xAxis = d3.axisBottom(x)\n            .tickSizeOuter(0)\n            .ticks(nTicks);\n        let yAxis = d3.axisLeft(y)\n            .tickSizeInner(-w)\n            .tickFormat(probFormat);\n\n        svg.select(\".x.axis\")\n            .attr(\"transform\", `translate(0, ${y(0)})`)\n            .call(xAxis);\n\n        svg.select(\".y.axis\")\n            .call(yAxis);\n\n        nowBox.attr(\"transform\", `translate(${x(today)},0)`);\n        future.attr(\"width\", w - x(today));\n\n        let line = d3.line()\n            .x(d => x(d.date))\n            .y(d => y(d.margin));\n        svg.select(\".past.line\").attr(\"d\", line);\n        svg.select(\".future.line\").attr(\"d\", line);\n\n        let errTop = d3.area()\n            .x(d => x(d.date))\n            .y0(d => y(d.margin))\n            .y1(d => y(d.top));\n        let errBot = d3.area()\n            .x(d => x(d.date))\n            .y0(d => y(d.bot))\n            .y1(d => y(d.margin));\n        \n        svg.select(\".err.top\").attr(\"d\", errTop);\n        svg.select(\".err.bot\").attr(\"d\", errBot);\n\n        resetTooltip();\n    }\n\n    function resetTooltip() {\n        box.attr(\"transform\", `translate(${w}, 0)`)\n        shade.attr(\"width\", margin.R);\n        dateText.text(\"Election Day\");\n        nowText.style(\"opacity\", 1);\n\n        let mrg = data[last].margin;\n        marginText\n            .text(marginFormat(mrg))\n            .style(\"fill\", mrg > 0 ? BLUE : RED)\n            .attr(\"y\", y(mrg));\n        errorText\n            .text(\"±\" + errorFormat(2*data[last].std))\n            .attr(\"y\", y(mrg));\n    }\n\n    draw();\n    window.addEventListener(\"resize\", draw);\n\n    svg.on(\"mousemove\", function() {\n        let [mx, my] = d3.mouse(g.node());\n\n        if (mx > w) mx = w;\n        if (mx < 0) mx = 0;\n\n        let xval = x.invert(mx);\n        let idx = bisector(data, xval);\n        let closest = data[Math.min(last, idx)];\n\n        box.attr(\"transform\", `translate(${mx}, 0)`)\n        shade.attr(\"width\", w - mx + margin.R);\n        dateText.text(dateFormat(xval));\n        nowText.style(\"opacity\", 0);\n\n        let mrg = closest.margin;\n        marginText\n            .text(marginFormat(mrg))\n            .style(\"fill\", mrg > 0 ? BLUE : RED)\n            .attr(\"y\", y(mrg));\n        errorText\n            .text(\"±\" + errorFormat(2*closest.std))\n            .attr(\"y\", y(mrg));\n    });\n    svg.on(\"mouseout\", resetTooltip);\n}\n\n/*\n * Create a table of likely outcomes.\n * Includes a vertical histogram.\n */\nfunction outcomes(data, el) {\n    let table = d3.select(el).append(\"tbody\");\n\n    let hist = new Array(436);\n    hist[0] = {prob: data.seats_dist[0], cuml: data.seats_dist[0]};\n    for (let i = 1; i <= 435; i++) {\n        hist[i] = {\n            prob: data.seats_dist[i],\n            cuml: data.seats_dist[i] + hist[i-1].cuml,\n        };\n    }\n\n    let mean = Math.round(data.seats);\n    let sds = bigScreen() ? 1.25 : 1;\n    let margin = Math.round(sds * data.seats_std);\n    hist = hist.slice(mean - margin, mean + margin);\n\n    let rows = table.selectAll(\"tr\")\n        .data(hist)\n        .enter().append(\"tr\")\n        .attr(\"class\", (d, i) => i - margin == 0 ? \"expected\" : \"\");\n\n    let maxProb = d3.max(data.seats_dist);\n    let pctFormat = d3.format(\".0%\");\n    let gainFormat = d3.format(\"+\");\n    let cells = rows.selectAll(\"td\")\n        .data((d, i) => {\n            let s = mean - margin + i; \n            return [s, 435-s, s-218, s-currentSeats, 1-d.cuml, [d.prob/maxProb, s], s];\n        })\n        .enter().append(\"td\")\n        .html((d, i) => [\n            d,\n            d,\n            `<span style=\"color: ${d>0 ? BLUE : RED}\">\n                + ${Math.abs(d)} ${d>0 ? \"Dem\" : \"Rep\"}.\n            </span>`,\n            gainFormat(d),\n            pctFormat(d),\n            `<div class=\"hist-bar\" style=\"width: ${pctFormat(d[0])}; \n                background-color: ${d[1] >= 218 ? BLUE:RED}\"></div>`,\n            d == currentSeats ? \"◀ Current\" : \n            d == mean ? \"◀ Expected\" : \"\",\n        ][i])\n        .attr(\"class\", (d, i) => [,,\"maj\",\"gain\",,\"hist\",\"label\"][i]);\n}\n\n/*\n * Create a table with all the races.\n * Broken up into five tables\n */\nfunction races(data, states, root) {\n    let partitions = {\n        strong_dem: [],\n        lean_dem: [],\n        tossup: [],\n        lean_gop: [],\n        strong_gop: [],\n    };\n\n    for (let race of data.districts) {\n        if (race.margin > 0.2)\n            partitions.strong_dem.push(race);\n        else if (race.margin > 0.1)\n            partitions.lean_dem.push(race);\n        else if (race.margin > -0.1)\n            partitions.tossup.push(race);\n        else if (race.margin > -0.2)\n            partitions.lean_gop.push(race);\n        else\n            partitions.strong_gop.push(race);\n    }\n\n    let tables = d3.select(root)\n        .selectAll(\"table.races\")\n        .datum(function() { return partitions[this.id] });\n\n    tables.append(\"thead\")\n        .append(\"tr\")\n        .selectAll(\"th\")\n        .data([\"District\", \"Dem.\", \"Rep.\", \"Margin\"])\n        .enter().append(\"th\")\n        .text(d => d);\n\n    let rows = tables.append(\"tbody\")\n        .selectAll(\"tr\")\n        .data(d => d)\n        .enter().append(\"tr\");\n\n    let distStr = function(race) {\n        let [state, district] = race.split(\"-\");\n        if (district == \"00\")\n            district = \"\";\n        else\n            district = +district;\n\n        return `${states.abbr_to_ap[state]} ${district}`;\n    };\n    let probFmt = d3.format(\".0%\");\n    let marginFmt = x => `${(x>0 ? \"D\" : \"R\")}+${Math.abs(Math.round(100*x))}`;\n\n    rows.selectAll(\"td\")\n        .data(d => [\n            distStr(d.district),\n            [d.prob, d.incumbent],\n            [1 - d.prob, d.incumbent],\n            d.margin\n        ])\n        .enter().append(\"td\")\n        .text((d, i) => [d, probFmt(d[0]), probFmt(d[0]), marginFmt(d)][i])\n        .classed(\"prob\", (d, i) => i == 1 || i == 2)\n        //.classed(\"dem pickup\", (d, i) => i === 1 && d[0] > 0.5 && d[1] === -1)\n        .classed(\"d_pickup\", (d, i) => i === 1 && d[0] > 0.5 && d[1] === -1)\n        .classed(\"r_pickup\", (d, i) => i === 2 && d[0] > 0.5 && d[1] === 1)\n        .classed(\"margin\", (d, i) => i == 3)\n        .style(\"color\", (d, i) => [\n            \"black\",\n            d[0] > 0.5 ? \"white\" : \"black\",\n            d[0] > 0.5 ? \"white\" : \"black\",\n            d > 0 ? BLUE : RED\n        ][i])\n        .style(\"background-color\", (d, i) => [,\n            d[0] > 0.5 ? BLUE : \"\",\n            d[0] > 0.5 ? RED : \"\",, \n        ][i]);\n}\n\nexport default {\n    overview,\n    history,\n    generic,\n    outcomes,\n    races,\n};\n"]}